<?xml version="1.0" encoding="UTF-8"?>

<!-- <rollingPolicy -->
<!-- 	class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"> -->
	<!-- daily rollover -->
<!-- 	<fileNamePattern>logs/%d{yyyy-MM-dd,aux}/${appName}. -->
<!-- 		%d{yyyy-MM-dd}.%i.log</fileNamePattern> -->
<!-- 	<timeBasedFileNamingAndTriggeringPolicy -->
<!-- 		class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"> -->
		<!-- or whenever the file size reaches 80MB -->
<!-- 		<maxFileSize>80MB</maxFileSize> -->
<!-- 	</timeBasedFileNamingAndTriggeringPolicy> -->
	<!-- keep 30 days' worth of history -->
<!-- 	<maxHistory>30</maxHistory> -->
<!-- </rollingPolicy> -->

<!-- <configuration> -->

<!-- 	<property name="LOGS_LOCATION" value="./logs" /> -->
<!-- 	<appender name="CONSOLE" -->
<!-- 		class="ch.qos.logback.core.ConsoleAppender"> -->
<!-- 		<encoder> -->
<!-- 			<pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{50} - %msg%n -->
<!-- 			</pattern> -->
<!-- 		</encoder> -->
<!-- 	</appender> -->
<!-- 	<appender name="FILE-ROLLING" -->
<!-- 		class="ch.qos.logback.core.rolling.RollingFileAppender"> -->
<!-- 		<file>${LOGS_LOCATION}/madaja.log</file> -->
<!-- 		<rollingPolicy -->
<!-- 			class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy"> -->
<!-- 			<fileNamePattern>${LOGS_LOCATION}/archived/madaja-log-%d{yyyy-MM-dd}.%i.log.gz -->
<!-- 			</fileNamePattern> -->
<!-- 			<timeBasedFileNamingAndTriggeringPolicy -->
<!-- 				class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP"> -->
<!-- 				<maxFileSize>10MB</maxFileSize> -->
<!-- 			</timeBasedFileNamingAndTriggeringPolicy> -->
<!-- 		</rollingPolicy> -->
<!-- 		<encoder -->
<!-- 			class="ch.qos.logback.classic.encoder.PatternLayoutEncoder"> -->
<!-- 			<pattern>%d %p %c{1.} [%t] %m%n</pattern> -->
<!-- 		</encoder> -->
<!-- 	</appender> -->


<!-- 	<root level="info"> -->
<!-- 		<appender-ref ref="CONSOLE" /> -->
<!-- 	</root> -->
<!-- 	<logger name="com.springframework" level="trace"> -->
<!-- 		<appender-ref ref="CONSOLE" /> -->
<!-- 	</logger> -->

<!-- </configuration> -->

<configuration>

	<property name="LOGS" value="./logs" />
	<appender name="Console"
		class="ch.qos.logback.core.ConsoleAppender">
		<layout class="ch.qos.logback.classic.PatternLayout">
			<Pattern>
				%black(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C{1.}): %msg%n%throwable
			</Pattern>
		</layout>
	</appender>

	<appender name="RollingFile"
		class="ch.qos.logback.core.rolling.RollingFileAppender">
		<file>${LOGS}/spring-boot-logger.log</file>
		<encoder
			class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">
			<pattern>%d %p %C{1.} [%t] %m%n</pattern>
		</encoder>
		
		<rollingPolicy
			class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
			<fileNamePattern>${LOGS}/archived/spring-boot-logger-%d{yyyy-MM-dd}.%i.log
			</fileNamePattern>
			<timeBasedFileNamingAndTriggeringPolicy
				class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
				<maxFileSize>10MB</maxFileSize>
			</timeBasedFileNamingAndTriggeringPolicy>
		</rollingPolicy>
		
	</appender>


	<root level="info">
		<appender-ref ref="RollingFile" />
		<appender-ref ref="Console" />
	</root>
	<logger name="com.martorsan13" level="trace" additivity="false">
		<appender-ref ref="RollingFile" />
		<appender-ref ref="Console" />
	</logger>

</configuration>