2021-02-05 00:34:12,823 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-9] Intentando detectar si hay ligas sin equipos
2021-02-05 00:34:12,882 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-9] No se han detectado ligas sin equipos
2021-02-05 00:34:15,972 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 00:34:16,006 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Equipos obtenindos correctamente
2021-02-05 00:34:16,009 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Ordenando los equipos
2021-02-05 00:34:16,010 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Equipos ordenados correctamente
2021-02-05 00:34:24,017 WARN com.zaxxer.hikari.pool.HikariPool$HouseKeeper [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=42m15s304ms581µs400ns).
2021-02-05 00:34:30,417 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Numero de fichajes del equipo: 2
2021-02-05 00:36:23,061 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'taskScheduler'
2021-02-05 00:36:23,062 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 00:36:23,069 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:36:23,070 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 00:36:23,083 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 00:36:23,084 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 00:36:23,089 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 00:36:23,091 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 00:36:23,091 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 00:36:23,092 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 00:36:23,092 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 00:36:23,093 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 00:36:23,097 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 00:36:23,100 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 00:36:23,332 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 00:36:23,333 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2021-02-05 00:36:23,338 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2021-02-05 00:36:23,990 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 00:36:23,991 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 00:36:23,991 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 00:36:24,551 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 00:36:24,664 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 112ms. Found 13 JPA repository interfaces.
2021-02-05 00:36:24,843 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 00:36:25,094 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 00:36:25,095 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 00:36:25,096 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 00:36:25,096 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 00:36:25,309 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 00:36:25,313 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 00:36:25,313 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1314 ms
2021-02-05 00:36:25,352 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Starting...
2021-02-05 00:36:25,357 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Start completed.
2021-02-05 00:36:25,358 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 00:36:25,489 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 00:36:25,506 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 00:36:25,518 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 00:36:26,160 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 00:36:26,162 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:36:26,171 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 00:36:26,657 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 00:36:26,865 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ad19b17, org.springframework.security.web.context.SecurityContextPersistenceFilter@51af8fef, org.springframework.security.web.header.HeaderWriterFilter@35999f2a, org.springframework.security.web.csrf.CsrfFilter@27d92a8f, org.springframework.security.web.authentication.logout.LogoutFilter@49880368, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@69a8f811, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@b2ed809, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@447331a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f18158b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5681bf8d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39611dfe, org.springframework.security.web.session.SessionManagementFilter@3f4c57db, org.springframework.security.web.access.ExceptionTranslationFilter@76011908, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12f5edc9]
2021-02-05 00:36:26,936 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 00:36:27,477 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 00:36:27,576 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 00:36:27,584 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 00:36:27,585 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.667 seconds (JVM running for 2695.339)
2021-02-05 00:36:27,588 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 00:38:03,478 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'taskScheduler'
2021-02-05 00:38:03,480 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 00:38:03,484 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-10] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:38:03,485 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 00:38:03,506 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 00:38:03,510 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 00:38:03,517 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 00:38:03,518 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 00:38:03,519 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 00:38:03,519 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 00:38:03,520 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 00:38:03,521 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 00:38:03,526 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 00:38:03,536 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 00:38:03,748 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-10] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 00:38:03,748 INFO com.zaxxer.hikari.HikariDataSource [Thread-10] HikariPool-2 - Shutdown initiated...
2021-02-05 00:38:03,752 INFO com.zaxxer.hikari.HikariDataSource [Thread-10] HikariPool-2 - Shutdown completed.
2021-02-05 00:38:04,428 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 00:38:04,428 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 00:38:04,428 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 00:38:04,874 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 00:38:04,970 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 95ms. Found 13 JPA repository interfaces.
2021-02-05 00:38:05,134 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 00:38:05,337 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 00:38:05,339 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 00:38:05,340 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 00:38:05,341 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 00:38:05,502 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 00:38:05,507 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 00:38:05,507 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1072 ms
2021-02-05 00:38:05,533 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Starting...
2021-02-05 00:38:05,537 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Start completed.
2021-02-05 00:38:05,538 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 00:38:05,613 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 00:38:05,629 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 00:38:05,640 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 00:38:06,215 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 00:38:06,216 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:38:06,224 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 00:38:06,635 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 00:38:06,832 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c2370cf, org.springframework.security.web.context.SecurityContextPersistenceFilter@44891b65, org.springframework.security.web.header.HeaderWriterFilter@ed92ee3, org.springframework.security.web.csrf.CsrfFilter@7fe04c95, org.springframework.security.web.authentication.logout.LogoutFilter@46ab5210, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@532969e3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4e7fb72b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@bce88e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b95f36d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f98d230, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ad81b90, org.springframework.security.web.session.SessionManagementFilter@29b50a72, org.springframework.security.web.access.ExceptionTranslationFilter@3966df1e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6d44fd54]
2021-02-05 00:38:06,901 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 00:38:07,344 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 00:38:07,456 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 00:38:07,462 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 00:38:07,463 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.097 seconds (JVM running for 2795.216)
2021-02-05 00:38:07,465 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 00:40:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 00:40:38,385 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-16] Shutting down ExecutorService 'taskScheduler'
2021-02-05 00:40:38,386 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-16] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 00:40:38,391 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-16] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:40:38,393 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 00:40:38,398 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 00:40:38,400 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 00:40:38,409 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 00:40:38,411 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 00:40:38,412 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 00:40:38,414 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 00:40:38,416 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 00:40:38,418 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 00:40:38,426 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 00:40:38,431 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 00:40:38,635 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-16] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 00:40:38,636 INFO com.zaxxer.hikari.HikariDataSource [Thread-16] HikariPool-3 - Shutdown initiated...
2021-02-05 00:40:38,646 INFO com.zaxxer.hikari.HikariDataSource [Thread-16] HikariPool-3 - Shutdown completed.
2021-02-05 00:40:39,530 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 00:40:39,530 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 00:40:39,531 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 00:40:39,952 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 00:40:40,044 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 92ms. Found 13 JPA repository interfaces.
2021-02-05 00:40:40,173 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 00:40:40,354 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 00:40:40,355 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 00:40:40,355 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 00:40:40,356 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 00:40:40,474 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 00:40:40,478 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 00:40:40,478 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 944 ms
2021-02-05 00:40:40,497 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-4 - Starting...
2021-02-05 00:40:40,500 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-4 - Start completed.
2021-02-05 00:40:40,500 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 00:40:40,573 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 00:40:40,591 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 00:40:40,600 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 00:40:41,129 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 00:40:41,130 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:40:41,138 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 00:40:41,490 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 00:40:41,653 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@718f0c49, org.springframework.security.web.context.SecurityContextPersistenceFilter@69c4d05d, org.springframework.security.web.header.HeaderWriterFilter@407b59f0, org.springframework.security.web.csrf.CsrfFilter@189eddef, org.springframework.security.web.authentication.logout.LogoutFilter@61e31a25, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@225bbba0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@27401ba1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@18dce738, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@624d7dd5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78e31cb5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ae3da8, org.springframework.security.web.session.SessionManagementFilter@75b14fc, org.springframework.security.web.access.ExceptionTranslationFilter@3e16b292, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@798cdc2f]
2021-02-05 00:40:41,715 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 00:40:42,074 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 00:40:42,160 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 00:40:42,166 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 00:40:42,167 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.686 seconds (JVM running for 2949.92)
2021-02-05 00:40:42,168 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 00:40:56,480 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 00:40:56,482 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 00:40:56,488 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 5 ms
2021-02-05 00:40:56,541 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Numero de fichajes del equipo: 2
2021-02-05 00:41:06,708 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Numero de fichajes del equipo: 2
2021-02-05 00:41:33,223 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-21] Shutting down ExecutorService 'taskScheduler'
2021-02-05 00:41:33,224 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-21] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 00:41:33,227 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-21] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:41:33,228 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 00:41:33,231 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 00:41:33,232 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 00:41:33,236 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 00:41:33,237 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 00:41:33,238 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 00:41:33,239 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 00:41:33,240 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 00:41:33,241 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 00:41:33,244 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 00:41:33,246 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 00:41:33,450 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-21] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 00:41:33,451 INFO com.zaxxer.hikari.HikariDataSource [Thread-21] HikariPool-4 - Shutdown initiated...
2021-02-05 00:41:33,453 INFO com.zaxxer.hikari.HikariDataSource [Thread-21] HikariPool-4 - Shutdown completed.
2021-02-05 00:41:34,656 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 00:41:34,656 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 00:41:34,656 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 00:41:35,178 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 00:41:35,260 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 80ms. Found 13 JPA repository interfaces.
2021-02-05 00:41:35,382 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 00:41:35,550 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 00:41:35,551 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 00:41:35,551 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 00:41:35,551 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 00:41:35,682 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 00:41:35,685 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 00:41:35,685 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1026 ms
2021-02-05 00:41:35,702 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Starting...
2021-02-05 00:41:35,705 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Start completed.
2021-02-05 00:41:35,706 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 00:41:35,770 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 00:41:35,782 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 00:41:35,790 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 00:41:36,273 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 00:41:36,273 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:41:36,281 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 00:41:36,596 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 00:41:36,739 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f5f1933, org.springframework.security.web.context.SecurityContextPersistenceFilter@4201b455, org.springframework.security.web.header.HeaderWriterFilter@5b0ec969, org.springframework.security.web.csrf.CsrfFilter@3c638bd7, org.springframework.security.web.authentication.logout.LogoutFilter@18393f66, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2cd6dc9b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5c7bef5d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@68ce98e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@763fb34c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5bd77963, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a27ebb4, org.springframework.security.web.session.SessionManagementFilter@629cb6e2, org.springframework.security.web.access.ExceptionTranslationFilter@1324f5cc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20e0556e]
2021-02-05 00:41:36,792 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 00:41:37,069 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 00:41:37,160 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 00:41:37,166 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 00:41:37,167 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.56 seconds (JVM running for 3004.921)
2021-02-05 00:41:37,168 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 00:43:06,703 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 00:43:06,705 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 00:43:06,710 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 4 ms
2021-02-05 00:43:11,833 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Numero de fichajes del equipo: 2
2021-02-05 00:45:00,002 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 00:48:56,813 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-26] Shutting down ExecutorService 'taskScheduler'
2021-02-05 00:48:56,815 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-26] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 00:48:56,820 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-26] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:48:56,821 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 00:48:56,826 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 00:48:56,827 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 00:48:56,833 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 00:48:56,834 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 00:48:56,835 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 00:48:56,836 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 00:48:56,837 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 00:48:56,838 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 00:48:56,842 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 00:48:56,844 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 00:48:57,048 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-26] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 00:48:57,049 INFO com.zaxxer.hikari.HikariDataSource [Thread-26] HikariPool-5 - Shutdown initiated...
2021-02-05 00:48:57,053 INFO com.zaxxer.hikari.HikariDataSource [Thread-26] HikariPool-5 - Shutdown completed.
2021-02-05 00:48:57,774 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 00:48:57,775 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 00:48:57,775 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 00:48:58,173 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 00:48:58,256 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 82ms. Found 13 JPA repository interfaces.
2021-02-05 00:48:58,371 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 00:48:58,567 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 00:48:58,568 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 00:48:58,569 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 00:48:58,569 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 00:48:58,718 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 00:48:58,722 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 00:48:58,723 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 945 ms
2021-02-05 00:48:58,744 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Starting...
2021-02-05 00:48:58,746 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Start completed.
2021-02-05 00:48:58,747 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 00:48:58,806 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 00:48:58,817 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 00:48:58,823 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 00:48:59,229 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 00:48:59,230 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:48:59,236 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 00:48:59,533 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 00:48:59,670 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f583181, org.springframework.security.web.context.SecurityContextPersistenceFilter@4305600a, org.springframework.security.web.header.HeaderWriterFilter@60ed50f4, org.springframework.security.web.csrf.CsrfFilter@5622ddd2, org.springframework.security.web.authentication.logout.LogoutFilter@58f7540, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@74e94d97, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@710f36f1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@72cba334, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@37a57a8c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3dc5e67c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17bc6e16, org.springframework.security.web.session.SessionManagementFilter@389f1e4, org.springframework.security.web.access.ExceptionTranslationFilter@7ae1d6b0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@391b913a]
2021-02-05 00:48:59,720 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 00:49:00,007 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 00:49:00,099 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 00:49:00,106 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 00:49:00,107 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.381 seconds (JVM running for 3447.86)
2021-02-05 00:49:00,109 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 00:49:46,781 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-31] Shutting down ExecutorService 'taskScheduler'
2021-02-05 00:49:46,782 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-31] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 00:49:46,784 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-31] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:49:46,784 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 00:49:46,787 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 00:49:46,787 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 00:49:46,790 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 00:49:46,791 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 00:49:46,810 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 00:49:46,811 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 00:49:46,811 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 00:49:46,812 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 00:49:46,816 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 00:49:46,817 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 00:49:47,020 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-31] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 00:49:47,020 INFO com.zaxxer.hikari.HikariDataSource [Thread-31] HikariPool-6 - Shutdown initiated...
2021-02-05 00:49:47,026 INFO com.zaxxer.hikari.HikariDataSource [Thread-31] HikariPool-6 - Shutdown completed.
2021-02-05 00:49:47,647 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 00:49:47,647 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 00:49:47,648 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 00:49:48,012 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 00:49:48,102 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 89ms. Found 13 JPA repository interfaces.
2021-02-05 00:49:48,213 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 00:49:48,362 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 00:49:48,363 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 00:49:48,364 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 00:49:48,364 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 00:49:48,499 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 00:49:48,504 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 00:49:48,505 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 854 ms
2021-02-05 00:49:48,530 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-7 - Starting...
2021-02-05 00:49:48,534 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-7 - Start completed.
2021-02-05 00:49:48,535 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 00:49:48,614 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 00:49:48,631 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 00:49:48,645 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 00:49:49,074 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 00:49:49,075 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:49:49,081 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 00:49:49,354 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 00:49:49,496 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61343804, org.springframework.security.web.context.SecurityContextPersistenceFilter@78c1d77c, org.springframework.security.web.header.HeaderWriterFilter@72b052ff, org.springframework.security.web.csrf.CsrfFilter@7bfaf281, org.springframework.security.web.authentication.logout.LogoutFilter@97f6f20, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@666944ea, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@43ee1e0d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@36434b44, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7db82334, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d6fa1d6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4840f3fc, org.springframework.security.web.session.SessionManagementFilter@54835997, org.springframework.security.web.access.ExceptionTranslationFilter@34862f47, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5824db33]
2021-02-05 00:49:49,538 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 00:49:49,748 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 00:49:49,831 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 00:49:49,837 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 00:49:49,837 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.238 seconds (JVM running for 3497.591)
2021-02-05 00:49:49,839 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 00:50:00,002 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 00:51:01,689 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-36] Shutting down ExecutorService 'taskScheduler'
2021-02-05 00:51:01,690 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-36] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 00:51:01,691 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-36] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:51:01,692 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 00:51:01,695 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 00:51:01,696 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 00:51:01,697 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 00:51:01,698 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 00:51:01,698 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 00:51:01,698 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 00:51:01,699 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 00:51:01,699 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 00:51:01,700 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 00:51:01,701 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 00:51:01,903 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-36] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 00:51:01,903 INFO com.zaxxer.hikari.HikariDataSource [Thread-36] HikariPool-7 - Shutdown initiated...
2021-02-05 00:51:01,906 INFO com.zaxxer.hikari.HikariDataSource [Thread-36] HikariPool-7 - Shutdown completed.
2021-02-05 00:51:02,564 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 00:51:02,564 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 00:51:02,564 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 00:51:02,916 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 00:51:02,997 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 79ms. Found 13 JPA repository interfaces.
2021-02-05 00:51:03,101 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 00:51:03,272 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 00:51:03,273 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 00:51:03,273 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 00:51:03,274 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 00:51:03,390 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 00:51:03,394 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 00:51:03,394 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 827 ms
2021-02-05 00:51:03,412 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-8 - Starting...
2021-02-05 00:51:03,414 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-8 - Start completed.
2021-02-05 00:51:03,416 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 00:51:03,484 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 00:51:03,498 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 00:51:03,505 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 00:51:03,981 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 00:51:03,982 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:51:03,988 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 00:51:04,334 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 00:51:04,517 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77272a25, org.springframework.security.web.context.SecurityContextPersistenceFilter@5c39a7fc, org.springframework.security.web.header.HeaderWriterFilter@9a419b2, org.springframework.security.web.csrf.CsrfFilter@54911515, org.springframework.security.web.authentication.logout.LogoutFilter@de5eaea, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@21bea020, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6a2df4e8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@13190e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@224a9c6f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b8a681d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@167e26d7, org.springframework.security.web.session.SessionManagementFilter@5c235f, org.springframework.security.web.access.ExceptionTranslationFilter@7920f5a9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6eef36fb]
2021-02-05 00:51:04,578 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 00:51:04,833 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 00:51:04,912 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 00:51:04,919 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 00:51:04,920 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.404 seconds (JVM running for 3572.674)
2021-02-05 00:51:04,923 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 00:51:26,141 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-41] Shutting down ExecutorService 'taskScheduler'
2021-02-05 00:51:26,143 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-41] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 00:51:26,144 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-41] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:51:26,144 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 00:51:26,147 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 00:51:26,147 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 00:51:26,147 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 00:51:26,149 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 00:51:26,149 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 00:51:26,149 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 00:51:26,149 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 00:51:26,150 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 00:51:26,150 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 00:51:26,152 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 00:51:26,353 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-41] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 00:51:26,353 INFO com.zaxxer.hikari.HikariDataSource [Thread-41] HikariPool-8 - Shutdown initiated...
2021-02-05 00:51:26,364 INFO com.zaxxer.hikari.HikariDataSource [Thread-41] HikariPool-8 - Shutdown completed.
2021-02-05 00:51:27,008 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 00:51:27,008 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 00:51:27,008 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 00:51:27,337 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 00:51:27,414 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 76ms. Found 13 JPA repository interfaces.
2021-02-05 00:51:27,508 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 00:51:27,718 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 00:51:27,719 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 00:51:27,719 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 00:51:27,720 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 00:51:27,829 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 00:51:27,832 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 00:51:27,833 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 822 ms
2021-02-05 00:51:27,848 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-9 - Starting...
2021-02-05 00:51:27,851 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-9 - Start completed.
2021-02-05 00:51:27,852 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 00:51:27,917 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 00:51:27,929 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 00:51:27,934 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 00:51:28,312 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 00:51:28,312 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:51:28,317 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 00:51:28,652 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 00:51:28,811 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29f3feda, org.springframework.security.web.context.SecurityContextPersistenceFilter@4d16dcb3, org.springframework.security.web.header.HeaderWriterFilter@3bc295ff, org.springframework.security.web.csrf.CsrfFilter@2af7c65d, org.springframework.security.web.authentication.logout.LogoutFilter@8510249, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b1cce11, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6485c06b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@456018e7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b078995, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4459c67, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ff423da, org.springframework.security.web.session.SessionManagementFilter@59472ce8, org.springframework.security.web.access.ExceptionTranslationFilter@106ed32f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3477dd2c]
2021-02-05 00:51:28,867 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 00:51:29,138 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 00:51:29,226 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 00:51:29,245 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 00:51:29,247 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.284 seconds (JVM running for 3597.001)
2021-02-05 00:51:29,248 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 00:52:13,879 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 00:52:13,882 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 00:52:13,886 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 3 ms
2021-02-05 00:52:16,614 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] Intentando detectar si hay ligas sin equipos
2021-02-05 00:52:16,630 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] No se han detectado ligas sin equipos
2021-02-05 00:52:18,563 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 00:52:18,574 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos obtenindos correctamente
2021-02-05 00:52:18,575 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Ordenando los equipos
2021-02-05 00:52:18,577 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos ordenados correctamente
2021-02-05 00:52:34,026 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-8] Intentando detectar si hay ligas sin equipos
2021-02-05 00:52:34,040 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-8] No se han detectado ligas sin equipos
2021-02-05 00:52:35,555 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-9] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 00:52:35,559 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-9] Equipos obtenindos correctamente
2021-02-05 00:52:35,560 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-9] Ordenando los equipos
2021-02-05 00:52:35,561 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-9] Equipos ordenados correctamente
2021-02-05 00:53:45,239 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-4] Intentando detectar si hay ligas sin equipos
2021-02-05 00:53:45,252 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-4] No se han detectado ligas sin equipos
2021-02-05 00:53:47,071 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 00:53:47,075 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Equipos obtenindos correctamente
2021-02-05 00:53:47,076 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Ordenando los equipos
2021-02-05 00:53:47,076 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Equipos ordenados correctamente
2021-02-05 00:54:43,558 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-46] Shutting down ExecutorService 'taskScheduler'
2021-02-05 00:54:43,559 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-46] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 00:54:43,562 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-46] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:54:43,563 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 00:54:43,568 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 00:54:43,569 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 00:54:43,573 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 00:54:43,574 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 00:54:43,575 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 00:54:43,576 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 00:54:43,576 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 00:54:43,577 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 00:54:43,580 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 00:54:43,582 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 00:54:43,787 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-46] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 00:54:43,788 INFO com.zaxxer.hikari.HikariDataSource [Thread-46] HikariPool-9 - Shutdown initiated...
2021-02-05 00:54:43,790 INFO com.zaxxer.hikari.HikariDataSource [Thread-46] HikariPool-9 - Shutdown completed.
2021-02-05 00:54:44,747 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 00:54:44,748 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 00:54:44,748 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 00:54:45,231 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 00:54:45,323 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 91ms. Found 13 JPA repository interfaces.
2021-02-05 00:54:45,423 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 00:54:45,570 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 00:54:45,572 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 00:54:45,572 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 00:54:45,572 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 00:54:45,690 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 00:54:45,693 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 00:54:45,694 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 942 ms
2021-02-05 00:54:45,711 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-10 - Starting...
2021-02-05 00:54:45,713 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-10 - Start completed.
2021-02-05 00:54:45,713 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 00:54:45,771 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 00:54:45,782 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 00:54:45,787 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 00:54:46,118 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 00:54:46,120 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:54:46,129 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 00:54:46,473 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 00:54:46,615 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@342196fe, org.springframework.security.web.context.SecurityContextPersistenceFilter@6ff67952, org.springframework.security.web.header.HeaderWriterFilter@193f370b, org.springframework.security.web.csrf.CsrfFilter@8b97ba5, org.springframework.security.web.authentication.logout.LogoutFilter@7f69e8f7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@31bb3900, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@ed57a4d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3eb7aa5b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@481cadb0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28fb5cd7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d4b1ebd, org.springframework.security.web.session.SessionManagementFilter@2cd14b3e, org.springframework.security.web.access.ExceptionTranslationFilter@69e9d488, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@621c3c6c]
2021-02-05 00:54:46,676 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 00:54:46,926 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 00:54:47,010 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 00:54:47,015 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 00:54:47,016 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.317 seconds (JVM running for 3794.77)
2021-02-05 00:54:47,017 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 00:54:55,401 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-7] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 00:54:55,403 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-7] Initializing Servlet 'dispatcherServlet'
2021-02-05 00:54:55,407 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-7] Completed initialization in 4 ms
2021-02-05 00:55:00,000 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 00:55:26,929 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Fichaje: 4 a un precio de: 1234
2021-02-05 00:55:57,256 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-51] Shutting down ExecutorService 'taskScheduler'
2021-02-05 00:55:57,258 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-51] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 00:55:57,261 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-51] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:55:57,262 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 00:55:57,266 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 00:55:57,267 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 00:55:57,270 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 00:55:57,272 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 00:55:57,272 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 00:55:57,273 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 00:55:57,273 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 00:55:57,275 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 00:55:57,276 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 00:55:57,278 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 00:55:57,482 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-51] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 00:55:57,483 INFO com.zaxxer.hikari.HikariDataSource [Thread-51] HikariPool-10 - Shutdown initiated...
2021-02-05 00:55:57,493 INFO com.zaxxer.hikari.HikariDataSource [Thread-51] HikariPool-10 - Shutdown completed.
2021-02-05 00:55:58,270 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 00:55:58,271 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 00:55:58,272 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 00:55:58,693 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 00:55:58,817 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 122ms. Found 13 JPA repository interfaces.
2021-02-05 00:55:58,949 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 00:55:59,093 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 00:55:59,094 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 00:55:59,094 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 00:55:59,094 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 00:55:59,195 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 00:55:59,197 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 00:55:59,198 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 923 ms
2021-02-05 00:55:59,211 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-11 - Starting...
2021-02-05 00:55:59,213 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-11 - Start completed.
2021-02-05 00:55:59,214 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 00:55:59,267 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 00:55:59,277 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 00:55:59,281 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 00:55:59,598 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 00:55:59,598 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 00:55:59,607 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 00:55:59,920 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 00:56:00,068 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29d4a0ec, org.springframework.security.web.context.SecurityContextPersistenceFilter@24708e71, org.springframework.security.web.header.HeaderWriterFilter@79f8d58a, org.springframework.security.web.csrf.CsrfFilter@4f53f03f, org.springframework.security.web.authentication.logout.LogoutFilter@23d84b9c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@326a3d99, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@28e22792, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7fffb8b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cb5f22, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e209014, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6fa35f35, org.springframework.security.web.session.SessionManagementFilter@74f25ad8, org.springframework.security.web.access.ExceptionTranslationFilter@79358b66, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@422a4cdd]
2021-02-05 00:56:00,114 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 00:56:00,332 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 00:56:00,410 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 00:56:00,416 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 00:56:00,417 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.186 seconds (JVM running for 3868.171)
2021-02-05 00:56:00,419 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 00:57:55,340 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 00:57:55,342 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 00:57:55,346 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 3 ms
2021-02-05 00:57:55,419 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8090-exec-1] Resolved [org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.StackOverflowError]
2021-02-05 01:00:00,000 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 01:00:09,970 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-7] Intentando detectar si hay ligas sin equipos
2021-02-05 01:00:09,982 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-7] No se han detectado ligas sin equipos
2021-02-05 01:00:12,216 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:00:12,220 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos obtenindos correctamente
2021-02-05 01:00:12,221 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Ordenando los equipos
2021-02-05 01:00:12,222 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos ordenados correctamente
2021-02-05 01:00:15,658 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:00:15,662 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Equipos obtenindos correctamente
2021-02-05 01:00:15,663 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Ordenando los equipos
2021-02-05 01:00:15,664 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Equipos ordenados correctamente
2021-02-05 01:00:19,313 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:00:19,316 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Equipos obtenindos correctamente
2021-02-05 01:00:19,317 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Ordenando los equipos
2021-02-05 01:00:19,318 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Equipos ordenados correctamente
2021-02-05 01:00:35,272 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:00:35,275 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos obtenindos correctamente
2021-02-05 01:00:35,276 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Ordenando los equipos
2021-02-05 01:00:35,277 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos ordenados correctamente
2021-02-05 01:05:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 01:10:00,002 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 01:10:37,197 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-5] Intentando detectar si hay ligas sin equipos
2021-02-05 01:10:37,206 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-5] No se han detectado ligas sin equipos
2021-02-05 01:10:39,276 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:10:39,279 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Equipos obtenindos correctamente
2021-02-05 01:10:39,280 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Ordenando los equipos
2021-02-05 01:10:39,281 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Equipos ordenados correctamente
2021-02-05 01:12:27,616 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-56] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:12:27,616 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-56] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:12:27,618 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-56] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:12:27,618 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:12:27,620 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:12:27,620 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:12:27,621 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:12:27,622 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:12:27,622 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:12:27,622 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:12:27,623 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:12:27,623 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:12:27,624 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:12:27,625 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 01:12:27,827 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-56] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 01:12:27,827 INFO com.zaxxer.hikari.HikariDataSource [Thread-56] HikariPool-11 - Shutdown initiated...
2021-02-05 01:12:27,832 INFO com.zaxxer.hikari.HikariDataSource [Thread-56] HikariPool-11 - Shutdown completed.
2021-02-05 01:12:28,711 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:12:28,712 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:12:28,713 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:12:29,072 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:12:29,152 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 79ms. Found 13 JPA repository interfaces.
2021-02-05 01:12:29,242 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:12:29,387 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:12:29,389 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:12:29,389 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:12:29,389 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:12:29,486 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:12:29,488 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:12:29,488 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 773 ms
2021-02-05 01:12:29,502 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-12 - Starting...
2021-02-05 01:12:29,505 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-12 - Start completed.
2021-02-05 01:12:29,506 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:12:29,565 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:12:29,577 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:12:29,582 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:12:29,930 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:12:29,931 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:12:29,939 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:12:30,213 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:12:30,346 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72970058, org.springframework.security.web.context.SecurityContextPersistenceFilter@707d08e6, org.springframework.security.web.header.HeaderWriterFilter@491d43c8, org.springframework.security.web.csrf.CsrfFilter@344849ae, org.springframework.security.web.authentication.logout.LogoutFilter@5a379715, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@279b7794, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4cbed75c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@290e4ff7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1842ccf7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b62cf34, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62aa891e, org.springframework.security.web.session.SessionManagementFilter@60e34b0, org.springframework.security.web.access.ExceptionTranslationFilter@347b8583, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b880ce4]
2021-02-05 01:12:30,391 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:12:30,578 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:12:30,656 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:12:30,661 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:12:30,662 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 1.998 seconds (JVM running for 4858.416)
2021-02-05 01:12:30,663 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 01:13:08,392 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-61] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:13:08,396 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-61] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:13:08,399 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-61] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:13:08,399 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:13:08,404 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:13:08,404 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:13:08,408 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:13:08,408 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:13:08,410 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:13:08,410 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:13:08,411 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:13:08,412 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:13:08,416 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:13:08,419 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 01:13:08,623 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-61] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 01:13:08,624 INFO com.zaxxer.hikari.HikariDataSource [Thread-61] HikariPool-12 - Shutdown initiated...
2021-02-05 01:13:08,632 INFO com.zaxxer.hikari.HikariDataSource [Thread-61] HikariPool-12 - Shutdown completed.
2021-02-05 01:13:09,538 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:13:09,538 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:13:09,538 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:13:09,854 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:13:09,930 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 75ms. Found 13 JPA repository interfaces.
2021-02-05 01:13:10,016 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:13:10,162 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:13:10,163 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:13:10,163 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:13:10,163 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:13:10,260 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:13:10,262 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:13:10,262 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 720 ms
2021-02-05 01:13:10,275 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-13 - Starting...
2021-02-05 01:13:10,277 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-13 - Start completed.
2021-02-05 01:13:10,278 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:13:10,334 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:13:10,345 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:13:10,349 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:13:10,657 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:13:10,658 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:13:10,665 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:13:10,947 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:13:11,079 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c3ed9f2, org.springframework.security.web.context.SecurityContextPersistenceFilter@220a9358, org.springframework.security.web.header.HeaderWriterFilter@b3f6435, org.springframework.security.web.csrf.CsrfFilter@159ec7e1, org.springframework.security.web.authentication.logout.LogoutFilter@700ebe0e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2db214be, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1ad4bce8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@13b46762, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c5e0fde, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1cb0d0ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7feb73e8, org.springframework.security.web.session.SessionManagementFilter@41c8e54f, org.springframework.security.web.access.ExceptionTranslationFilter@2b4cbad5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@27d96d59]
2021-02-05 01:13:11,120 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:13:11,326 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:13:11,407 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:13:11,412 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:13:11,413 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 1.916 seconds (JVM running for 4899.167)
2021-02-05 01:13:11,414 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 01:14:49,829 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 01:14:49,832 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 01:14:49,835 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 3 ms
2021-02-05 01:14:49,852 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:14:49,861 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Equipos obtenindos correctamente
2021-02-05 01:14:49,861 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Ordenando los equipos
2021-02-05 01:14:49,862 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Equipos ordenados correctamente
2021-02-05 01:14:55,542 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-3] Comprando fichaje con suficiente dinero
2021-02-05 01:14:55,560 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8090-exec-3] Resolved [org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.StackOverflowError]
2021-02-05 01:15:00,002 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 01:17:57,769 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-66] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:17:57,770 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-66] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:17:57,773 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-66] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:17:57,774 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:17:57,777 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:17:57,778 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:17:57,781 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:17:57,782 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:17:57,783 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:17:57,784 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:17:57,784 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:17:57,784 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:17:57,785 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:17:57,786 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 01:17:57,987 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-66] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 01:17:57,988 INFO com.zaxxer.hikari.HikariDataSource [Thread-66] HikariPool-13 - Shutdown initiated...
2021-02-05 01:17:58,001 INFO com.zaxxer.hikari.HikariDataSource [Thread-66] HikariPool-13 - Shutdown completed.
2021-02-05 01:17:58,815 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:17:58,815 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:17:58,815 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:17:59,214 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:17:59,292 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 77ms. Found 13 JPA repository interfaces.
2021-02-05 01:17:59,378 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:17:59,525 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:17:59,526 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:17:59,527 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:17:59,527 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:17:59,643 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:17:59,645 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:17:59,646 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 828 ms
2021-02-05 01:17:59,659 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-14 - Starting...
2021-02-05 01:17:59,661 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-14 - Start completed.
2021-02-05 01:17:59,662 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:17:59,715 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:17:59,725 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:17:59,729 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:18:00,008 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:18:00,009 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:18:00,017 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:18:00,264 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:18:00,381 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30b23d21, org.springframework.security.web.context.SecurityContextPersistenceFilter@4be7dd06, org.springframework.security.web.header.HeaderWriterFilter@66613e92, org.springframework.security.web.csrf.CsrfFilter@7199360f, org.springframework.security.web.authentication.logout.LogoutFilter@6502f15b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3d067e39, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@c4cace1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@393d2747, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@25a721e7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a5d0e6f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ad5d8b6, org.springframework.security.web.session.SessionManagementFilter@7376a429, org.springframework.security.web.access.ExceptionTranslationFilter@6df06bc6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@41465ba5]
2021-02-05 01:18:00,430 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:18:00,716 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:18:00,802 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:18:00,807 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:18:00,807 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.033 seconds (JVM running for 5188.562)
2021-02-05 01:18:00,809 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 01:18:10,504 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 01:18:10,506 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 01:18:10,510 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 4 ms
2021-02-05 01:18:13,137 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] Intentando detectar si hay ligas sin equipos
2021-02-05 01:18:13,146 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] No se han detectado ligas sin equipos
2021-02-05 01:18:14,955 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:18:14,966 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos obtenindos correctamente
2021-02-05 01:18:14,966 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Ordenando los equipos
2021-02-05 01:18:14,968 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos ordenados correctamente
2021-02-05 01:18:30,718 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-1] Comprando fichaje con suficiente dinero
2021-02-05 01:19:00,397 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-71] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:19:00,398 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-71] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:19:00,401 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-71] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:19:00,401 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:19:00,406 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:19:00,408 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:19:00,409 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:19:00,411 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:19:00,412 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:19:00,413 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:19:00,414 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:19:00,414 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:19:00,417 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:19:00,419 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 01:19:00,622 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-71] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 01:19:00,623 INFO com.zaxxer.hikari.HikariDataSource [Thread-71] HikariPool-14 - Shutdown initiated...
2021-02-05 01:19:00,636 INFO com.zaxxer.hikari.HikariDataSource [Thread-71] HikariPool-14 - Shutdown completed.
2021-02-05 01:19:01,441 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:19:01,441 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:19:01,441 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:19:01,774 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:19:01,852 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 78ms. Found 13 JPA repository interfaces.
2021-02-05 01:19:01,939 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:19:02,079 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:19:02,080 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:19:02,080 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:19:02,081 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:19:02,175 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:19:02,177 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:19:02,178 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 734 ms
2021-02-05 01:19:02,191 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-15 - Starting...
2021-02-05 01:19:02,193 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-15 - Start completed.
2021-02-05 01:19:02,193 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:19:02,249 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:19:02,260 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:19:02,264 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:19:02,544 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:19:02,545 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:19:02,553 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:19:02,805 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:19:02,923 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ef72be3, org.springframework.security.web.context.SecurityContextPersistenceFilter@4b81040d, org.springframework.security.web.header.HeaderWriterFilter@4b5630cc, org.springframework.security.web.csrf.CsrfFilter@1e65ebec, org.springframework.security.web.authentication.logout.LogoutFilter@1082bd5f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@61cbd5a7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3b4efc41, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@16bee47e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e90dac1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@143a578f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d91d421, org.springframework.security.web.session.SessionManagementFilter@7a8aaa3b, org.springframework.security.web.access.ExceptionTranslationFilter@75ea0bcf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b5463e]
2021-02-05 01:19:02,964 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:19:03,170 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:19:03,251 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:19:03,256 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:19:03,257 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 1.859 seconds (JVM running for 5251.011)
2021-02-05 01:19:03,258 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 01:19:04,864 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-76] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:19:04,867 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-76] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:19:04,870 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-76] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:19:04,870 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:19:04,875 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:19:04,876 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:19:04,879 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:19:04,880 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:19:04,880 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:19:04,881 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:19:04,882 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:19:04,883 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:19:04,885 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:19:04,886 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 01:19:05,090 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-76] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 01:19:05,090 INFO com.zaxxer.hikari.HikariDataSource [Thread-76] HikariPool-15 - Shutdown initiated...
2021-02-05 01:19:05,095 INFO com.zaxxer.hikari.HikariDataSource [Thread-76] HikariPool-15 - Shutdown completed.
2021-02-05 01:19:05,846 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 3924 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:19:05,846 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:19:05,846 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:19:06,149 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:19:06,224 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 73ms. Found 13 JPA repository interfaces.
2021-02-05 01:19:06,319 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:19:06,474 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:19:06,475 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:19:06,475 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:19:06,475 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:19:06,579 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:19:06,582 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:19:06,582 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 733 ms
2021-02-05 01:19:06,596 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-16 - Starting...
2021-02-05 01:19:06,598 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-16 - Start completed.
2021-02-05 01:19:06,599 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:19:06,659 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:19:06,672 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:19:06,676 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:19:06,972 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:19:06,973 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:19:06,982 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:19:07,267 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:19:07,428 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ad39dfe, org.springframework.security.web.context.SecurityContextPersistenceFilter@73f740b7, org.springframework.security.web.header.HeaderWriterFilter@2c187aa7, org.springframework.security.web.csrf.CsrfFilter@2206f844, org.springframework.security.web.authentication.logout.LogoutFilter@5509c374, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4977fb41, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6e33f9b1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@69f3d32a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55e4f2f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a4667ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6733f3f5, org.springframework.security.web.session.SessionManagementFilter@66a650ff, org.springframework.security.web.access.ExceptionTranslationFilter@6338a1a7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1dd27382]
2021-02-05 01:19:07,476 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:19:07,685 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:19:07,770 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:19:07,775 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:19:07,776 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 1.972 seconds (JVM running for 5255.53)
2021-02-05 01:19:07,777 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 01:19:10,756 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-7] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 01:19:10,759 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-7] Initializing Servlet 'dispatcherServlet'
2021-02-05 01:19:10,763 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-7] Completed initialization in 3 ms
2021-02-05 01:20:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 01:21:01,318 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-5] Intentando detectar si hay ligas sin equipos
2021-02-05 01:21:01,323 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-5] No se han detectado ligas sin equipos
2021-02-05 01:21:04,500 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:21:04,506 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Equipos obtenindos correctamente
2021-02-05 01:21:04,507 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Ordenando los equipos
2021-02-05 01:21:04,508 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Equipos ordenados correctamente
2021-02-05 01:21:22,377 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-3] Intentando detectar si hay ligas sin equipos
2021-02-05 01:21:22,382 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-3] No se han detectado ligas sin equipos
2021-02-05 01:21:24,204 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:21:24,205 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos obtenindos correctamente
2021-02-05 01:21:24,206 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Ordenando los equipos
2021-02-05 01:21:24,206 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos ordenados correctamente
2021-02-05 01:21:26,969 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-6] Comprando fichaje con suficiente dinero
2021-02-05 01:21:28,163 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-8] Intentando detectar si hay ligas sin equipos
2021-02-05 01:21:28,170 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-8] No se han detectado ligas sin equipos
2021-02-05 01:21:29,336 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:21:29,338 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Equipos obtenindos correctamente
2021-02-05 01:21:29,338 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Ordenando los equipos
2021-02-05 01:21:29,339 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Equipos ordenados correctamente
2021-02-05 01:21:36,410 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-10] Intentando detectar si hay ligas sin equipos
2021-02-05 01:21:36,415 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-10] No se han detectado ligas sin equipos
2021-02-05 01:21:38,012 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-7] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:21:38,016 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-7] Equipos obtenindos correctamente
2021-02-05 01:21:38,017 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-7] Ordenando los equipos
2021-02-05 01:21:38,018 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-7] Equipos ordenados correctamente
2021-02-05 01:21:39,628 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-2] Servlet.service() for servlet [jsp] threw exception
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 01:21:39,632 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [javax.servlet.ServletException: javax.servlet.jsp.JspException: javax.el.ELException: javax.el.ELException: It is illegal to call get() on an empty optional] with root cause
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 01:21:57,083 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:21:57,088 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos obtenindos correctamente
2021-02-05 01:21:57,089 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Ordenando los equipos
2021-02-05 01:21:57,089 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos ordenados correctamente
2021-02-05 01:22:01,440 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:22:01,443 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Equipos obtenindos correctamente
2021-02-05 01:22:01,444 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Ordenando los equipos
2021-02-05 01:22:01,444 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Equipos ordenados correctamente
2021-02-05 01:22:02,642 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-8] Servlet.service() for servlet [jsp] threw exception
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 01:22:02,643 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-8] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [javax.servlet.ServletException: javax.servlet.jsp.JspException: javax.el.ELException: javax.el.ELException: It is illegal to call get() on an empty optional] with root cause
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 01:24:41,237 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 1376 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:24:41,245 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:24:41,246 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:24:41,364 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\alvar\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-02-05 01:24:41,365 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-02-05 01:24:41,365 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-02-05 01:24:43,201 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:24:43,485 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 265ms. Found 13 JPA repository interfaces.
2021-02-05 01:24:44,482 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:24:45,670 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:24:45,696 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:24:45,697 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:24:45,698 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:24:46,307 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:24:46,319 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:24:46,319 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4953 ms
2021-02-05 01:24:46,433 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-02-05 01:24:46,971 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-02-05 01:24:46,987 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:24:47,387 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:24:47,592 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.10.Final}
2021-02-05 01:24:47,901 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-02-05 01:24:48,195 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:24:48,363 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:24:52,310 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:24:52,326 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:24:52,358 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:24:54,060 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:24:54,785 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d983b36, org.springframework.security.web.context.SecurityContextPersistenceFilter@60e40ac0, org.springframework.security.web.header.HeaderWriterFilter@21e0a71c, org.springframework.security.web.csrf.CsrfFilter@50f4c2ab, org.springframework.security.web.authentication.logout.LogoutFilter@654cc9da, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7814e782, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7d9a1f2b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2d1f35e0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d21375f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ad71676, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ba21973, org.springframework.security.web.session.SessionManagementFilter@1549c098, org.springframework.security.web.access.ExceptionTranslationFilter@183e1c8f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@59487e5f]
2021-02-05 01:24:55,056 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:24:56,348 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:24:56,532 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:24:56,612 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:24:56,616 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 16.177 seconds (JVM running for 18.033)
2021-02-05 01:25:00,002 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 01:25:08,000 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 01:25:08,001 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 01:25:08,021 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 20 ms
2021-02-05 01:25:17,242 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-6] Intentando detectar si hay ligas sin equipos
2021-02-05 01:25:17,288 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-6] No se han detectado ligas sin equipos
2021-02-05 01:25:19,752 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:25:19,801 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos obtenindos correctamente
2021-02-05 01:25:19,802 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Ordenando los equipos
2021-02-05 01:25:19,805 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos ordenados correctamente
2021-02-05 01:25:45,109 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:25:45,113 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Equipos obtenindos correctamente
2021-02-05 01:25:45,114 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Ordenando los equipos
2021-02-05 01:25:45,114 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Equipos ordenados correctamente
2021-02-05 01:25:48,336 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-2] Comprando fichaje con suficiente dinero
2021-02-05 01:25:50,147 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-3] Intentando detectar si hay ligas sin equipos
2021-02-05 01:25:50,162 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-3] No se han detectado ligas sin equipos
2021-02-05 01:25:51,486 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:25:51,493 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos obtenindos correctamente
2021-02-05 01:25:51,493 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Ordenando los equipos
2021-02-05 01:25:51,493 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos ordenados correctamente
2021-02-05 01:26:14,514 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-5] Servlet.service() for servlet [jsp] threw exception
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 01:26:14,517 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-5] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [javax.servlet.ServletException: javax.servlet.jsp.JspException: javax.el.ELException: javax.el.ELException: It is illegal to call get() on an empty optional] with root cause
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 01:27:47,790 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-8] Intentando detectar si hay ligas sin equipos
2021-02-05 01:27:47,805 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-8] No se han detectado ligas sin equipos
2021-02-05 01:27:49,310 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-9] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:27:49,314 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-9] Equipos obtenindos correctamente
2021-02-05 01:27:49,315 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-9] Ordenando los equipos
2021-02-05 01:27:49,315 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-9] Equipos ordenados correctamente
2021-02-05 01:27:53,728 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-10] Servlet.service() for servlet [jsp] threw exception
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 01:27:53,734 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-10] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [javax.servlet.ServletException: javax.servlet.jsp.JspException: javax.el.ELException: javax.el.ELException: It is illegal to call get() on an empty optional] with root cause
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 01:27:58,703 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:27:58,708 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Equipos obtenindos correctamente
2021-02-05 01:27:58,709 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Ordenando los equipos
2021-02-05 01:27:58,709 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Equipos ordenados correctamente
2021-02-05 01:30:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 01:31:09,468 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:31:09,473 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Equipos obtenindos correctamente
2021-02-05 01:31:09,475 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Ordenando los equipos
2021-02-05 01:31:09,476 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Equipos ordenados correctamente
2021-02-05 01:31:14,644 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-6] Servlet.service() for servlet [jsp] threw exception
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 01:31:14,646 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-6] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [javax.servlet.ServletException: javax.servlet.jsp.JspException: javax.el.ELException: javax.el.ELException: It is illegal to call get() on an empty optional] with root cause
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 01:34:38,000 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:34:38,010 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:34:38,037 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:34:38,039 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:34:38,059 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:34:38,060 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:34:38,071 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:34:38,071 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:34:38,074 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:34:38,077 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:34:38,078 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:34:38,082 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:34:38,098 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:34:38,103 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 01:34:38,324 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 01:34:38,328 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2021-02-05 01:34:38,346 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2021-02-05 01:34:39,576 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 1376 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:34:39,576 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:34:39,576 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:34:40,394 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:34:40,576 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 181ms. Found 13 JPA repository interfaces.
2021-02-05 01:34:41,313 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:34:41,666 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:34:41,667 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:34:41,668 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:34:41,669 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:34:41,892 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:34:41,896 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:34:41,897 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2304 ms
2021-02-05 01:34:41,942 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Starting...
2021-02-05 01:34:41,947 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Start completed.
2021-02-05 01:34:41,948 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:34:42,102 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:34:42,126 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:34:42,146 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:34:43,028 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:34:43,029 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:34:43,037 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:34:43,640 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:34:43,919 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66ab3a2, org.springframework.security.web.context.SecurityContextPersistenceFilter@68253b04, org.springframework.security.web.header.HeaderWriterFilter@205034ad, org.springframework.security.web.csrf.CsrfFilter@171569, org.springframework.security.web.authentication.logout.LogoutFilter@415f8340, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5aeda5fe, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@76850aed, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5a06d53a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9aff7f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28fb4f36, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b56f636, org.springframework.security.web.session.SessionManagementFilter@50a1c024, org.springframework.security.web.access.ExceptionTranslationFilter@a3d7ac8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5eede185]
2021-02-05 01:34:43,997 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:34:45,123 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:34:45,280 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:34:45,289 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:34:45,291 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 5.835 seconds (JVM running for 606.708)
2021-02-05 01:34:45,297 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 01:34:52,477 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-3] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 01:34:52,480 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-3] Initializing Servlet 'dispatcherServlet'
2021-02-05 01:34:52,487 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-3] Completed initialization in 6 ms
2021-02-05 01:35:00,000 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 01:35:02,957 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] Intentando detectar si hay ligas sin equipos
2021-02-05 01:35:02,977 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] No se han detectado ligas sin equipos
2021-02-05 01:35:04,354 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:35:04,364 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos obtenindos correctamente
2021-02-05 01:35:04,369 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Ordenando los equipos
2021-02-05 01:35:04,371 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos ordenados correctamente
2021-02-05 01:35:14,733 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 1368 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:35:14,738 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:35:14,739 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:35:14,842 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\alvar\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-02-05 01:35:14,843 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-02-05 01:35:14,844 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-02-05 01:35:16,506 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:35:16,863 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 333ms. Found 13 JPA repository interfaces.
2021-02-05 01:35:18,058 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:35:19,215 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:35:19,248 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:35:19,250 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:35:19,251 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:35:19,968 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:35:19,976 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:35:19,976 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 5132 ms
2021-02-05 01:35:20,088 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-02-05 01:35:20,456 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-02-05 01:35:20,469 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:35:20,833 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:35:21,016 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.10.Final}
2021-02-05 01:35:21,307 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-02-05 01:35:21,541 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:35:21,681 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:35:25,358 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:35:25,376 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:35:25,422 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:35:27,459 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:35:28,278 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3de3b065, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e7ad93b, org.springframework.security.web.header.HeaderWriterFilter@1084f5c9, org.springframework.security.web.csrf.CsrfFilter@52c5af8e, org.springframework.security.web.authentication.logout.LogoutFilter@31425434, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@c6e3942, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@245cdd9f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@29df3877, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@327a60e9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68dabe09, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3819f139, org.springframework.security.web.session.SessionManagementFilter@991bba9, org.springframework.security.web.access.ExceptionTranslationFilter@2ca1e7e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e1d3625]
2021-02-05 01:35:28,618 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:35:30,241 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:35:30,409 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:35:30,484 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:35:30,489 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 16.592 seconds (JVM running for 17.958)
2021-02-05 01:35:33,635 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 01:35:33,636 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 01:35:33,663 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 26 ms
2021-02-05 01:35:50,242 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] Intentando detectar si hay ligas sin equipos
2021-02-05 01:35:50,310 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] No se han detectado ligas sin equipos
2021-02-05 01:35:52,538 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:35:52,547 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos obtenindos correctamente
2021-02-05 01:35:52,548 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Ordenando los equipos
2021-02-05 01:35:52,549 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos ordenados correctamente
2021-02-05 01:35:59,256 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:35:59,268 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Equipos obtenindos correctamente
2021-02-05 01:35:59,269 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Ordenando los equipos
2021-02-05 01:35:59,270 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Equipos ordenados correctamente
2021-02-05 01:36:02,165 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-6] Comprando fichaje con suficiente dinero
2021-02-05 01:36:05,089 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:36:05,097 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos obtenindos correctamente
2021-02-05 01:36:05,098 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Ordenando los equipos
2021-02-05 01:36:05,099 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos ordenados correctamente
2021-02-05 01:36:10,282 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:36:10,290 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Equipos obtenindos correctamente
2021-02-05 01:36:10,291 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Ordenando los equipos
2021-02-05 01:36:10,292 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Equipos ordenados correctamente
2021-02-05 01:36:11,992 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-2] Servlet.service() for servlet [jsp] threw exception
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 01:36:11,995 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-2] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [javax.servlet.ServletException: javax.servlet.jsp.JspException: javax.el.ELException: javax.el.ELException: It is illegal to call get() on an empty optional] with root cause
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 01:38:02,827 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:38:02,831 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:38:02,848 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:38:02,849 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:38:02,862 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:38:02,863 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:38:02,874 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:38:02,875 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:38:02,875 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:38:02,875 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:38:02,876 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:38:02,876 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:38:02,881 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:38:02,883 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 01:38:03,095 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 01:38:03,096 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2021-02-05 01:38:03,103 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2021-02-05 01:38:03,873 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 1368 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:38:03,874 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:38:03,874 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:38:04,497 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:38:04,607 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 110ms. Found 13 JPA repository interfaces.
2021-02-05 01:38:04,826 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:38:05,100 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:38:05,101 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:38:05,102 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:38:05,103 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:38:05,325 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:38:05,329 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:38:05,330 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1449 ms
2021-02-05 01:38:05,370 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Starting...
2021-02-05 01:38:05,376 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Start completed.
2021-02-05 01:38:05,377 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:38:05,495 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:38:05,515 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:38:05,529 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:38:06,232 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:38:06,233 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:38:06,245 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:38:06,727 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:38:06,939 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11522484, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b7b35ee, org.springframework.security.web.header.HeaderWriterFilter@784251b3, org.springframework.security.web.csrf.CsrfFilter@6b55bc84, org.springframework.security.web.authentication.logout.LogoutFilter@66985322, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@16c17b63, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2e20711b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@43aaac07, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49ae715f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@230b6e10, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39298095, org.springframework.security.web.session.SessionManagementFilter@6d8c1547, org.springframework.security.web.access.ExceptionTranslationFilter@738236a8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e109d2a]
2021-02-05 01:38:07,040 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:38:07,621 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:38:07,751 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:38:07,761 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:38:07,763 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.961 seconds (JVM running for 175.232)
2021-02-05 01:38:07,767 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 01:39:10,654 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 01:39:10,657 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 01:39:10,665 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 7 ms
2021-02-05 01:39:14,704 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-4] Intentando detectar si hay ligas sin equipos
2021-02-05 01:39:14,727 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-4] No se han detectado ligas sin equipos
2021-02-05 01:39:16,198 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:39:16,211 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Equipos obtenindos correctamente
2021-02-05 01:39:16,212 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Ordenando los equipos
2021-02-05 01:39:16,214 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Equipos ordenados correctamente
2021-02-05 01:39:19,558 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-8] Comprando fichaje con suficiente dinero
2021-02-05 01:40:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 01:40:19,921 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-10] Intentando detectar si hay ligas sin equipos
2021-02-05 01:40:19,936 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-10] No se han detectado ligas sin equipos
2021-02-05 01:40:26,274 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Obteniendo los equipos de un usuario
2021-02-05 01:40:26,281 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Equipos encontrados correctamente
2021-02-05 01:42:28,192 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:42:28,195 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:42:28,203 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-10] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:42:28,205 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:42:28,211 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:42:28,213 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:42:28,224 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:42:28,228 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:42:28,230 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:42:28,232 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:42:28,233 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:42:28,236 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:42:28,244 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:42:28,249 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 01:42:28,456 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-10] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 01:42:28,457 INFO com.zaxxer.hikari.HikariDataSource [Thread-10] HikariPool-2 - Shutdown initiated...
2021-02-05 01:42:28,467 INFO com.zaxxer.hikari.HikariDataSource [Thread-10] HikariPool-2 - Shutdown completed.
2021-02-05 01:42:29,523 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 1368 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:42:29,524 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:42:29,525 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:42:30,077 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:42:30,197 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 119ms. Found 13 JPA repository interfaces.
2021-02-05 01:42:30,382 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:42:30,604 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:42:30,604 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:42:30,605 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:42:30,605 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:42:30,770 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:42:30,775 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:42:30,777 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1245 ms
2021-02-05 01:42:30,818 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Starting...
2021-02-05 01:42:30,822 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Start completed.
2021-02-05 01:42:30,822 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:42:30,914 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:42:30,934 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:42:30,943 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:42:31,535 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:42:31,535 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:42:31,544 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:42:31,999 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:42:32,216 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a9c60c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@536c19b7, org.springframework.security.web.header.HeaderWriterFilter@580d2b60, org.springframework.security.web.csrf.CsrfFilter@2f5d1c9b, org.springframework.security.web.authentication.logout.LogoutFilter@12b63df3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7f79ee63, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5378a6f2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6f32cedf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56b48356, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6753f4cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e16e81c, org.springframework.security.web.session.SessionManagementFilter@a97c102, org.springframework.security.web.access.ExceptionTranslationFilter@1ff345c1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e31f68b]
2021-02-05 01:42:32,292 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:42:32,809 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:42:32,926 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:42:32,932 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:42:32,933 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.486 seconds (JVM running for 440.403)
2021-02-05 01:42:32,934 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 01:42:42,207 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6896 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:42:42,215 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:42:42,216 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:42:42,358 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\alvar\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-02-05 01:42:42,359 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-02-05 01:42:42,359 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-02-05 01:42:44,494 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:42:44,874 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 350ms. Found 13 JPA repository interfaces.
2021-02-05 01:42:46,059 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:42:47,325 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:42:47,357 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:42:47,358 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:42:47,359 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:42:48,067 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:42:48,077 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:42:48,078 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 5718 ms
2021-02-05 01:42:48,209 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-02-05 01:42:48,854 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-02-05 01:42:48,881 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:42:49,552 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:42:49,743 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.10.Final}
2021-02-05 01:42:50,102 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-02-05 01:42:50,472 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:42:50,676 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:42:54,948 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:42:54,963 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:42:54,997 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:42:57,117 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:42:58,152 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72a32f08, org.springframework.security.web.context.SecurityContextPersistenceFilter@51d23688, org.springframework.security.web.header.HeaderWriterFilter@51284c29, org.springframework.security.web.csrf.CsrfFilter@3f16b1e9, org.springframework.security.web.authentication.logout.LogoutFilter@3213e144, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4dc4a66e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@528dda1a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5c42c4f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f3e8ec0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17e36acd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26dfb24c, org.springframework.security.web.session.SessionManagementFilter@27e6c93, org.springframework.security.web.access.ExceptionTranslationFilter@2d43f16, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30d3cb4f]
2021-02-05 01:42:58,465 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:43:00,691 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:43:00,954 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:43:01,085 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:43:01,092 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 19.858 seconds (JVM running for 21.739)
2021-02-05 01:43:06,545 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 01:43:06,545 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 01:43:06,569 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 23 ms
2021-02-05 01:43:12,277 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Obteniendo los equipos de un usuario
2021-02-05 01:43:12,318 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos encontrados correctamente
2021-02-05 01:43:24,120 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Obteniendo los equipos de un usuario
2021-02-05 01:43:24,123 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Equipos encontrados correctamente
2021-02-05 01:43:25,109 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-9] Intentando detectar si hay ligas sin equipos
2021-02-05 01:43:25,169 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-9] No se han detectado ligas sin equipos
2021-02-05 01:43:27,469 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:43:27,480 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Equipos obtenindos correctamente
2021-02-05 01:43:27,481 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Ordenando los equipos
2021-02-05 01:43:27,485 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Equipos ordenados correctamente
2021-02-05 01:43:55,470 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-2] Comprando fichaje con suficiente dinero
2021-02-05 01:45:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 01:47:18,386 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:47:18,389 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:47:18,394 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:47:18,395 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:47:18,414 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:47:18,416 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:47:18,428 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:47:18,431 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:47:18,432 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:47:18,433 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:47:18,434 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:47:18,435 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:47:18,442 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:47:18,445 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 01:47:18,665 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 01:47:18,667 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2021-02-05 01:47:18,686 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2021-02-05 01:47:19,611 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6896 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:47:19,612 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:47:19,613 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:47:20,631 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:47:20,837 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 205ms. Found 13 JPA repository interfaces.
2021-02-05 01:47:21,324 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:47:21,587 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:47:21,588 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:47:21,590 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:47:21,591 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:47:21,822 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:47:21,827 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:47:21,828 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2201 ms
2021-02-05 01:47:21,878 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Starting...
2021-02-05 01:47:21,883 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Start completed.
2021-02-05 01:47:21,884 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:47:22,020 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:47:22,047 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:47:22,067 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:47:22,957 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:47:22,958 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:47:22,965 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:47:23,560 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:47:23,863 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56a1cf75, org.springframework.security.web.context.SecurityContextPersistenceFilter@7e0f258e, org.springframework.security.web.header.HeaderWriterFilter@668339d3, org.springframework.security.web.csrf.CsrfFilter@6c0e642d, org.springframework.security.web.authentication.logout.LogoutFilter@31a2e8ea, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@630b1ba5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2e4ac987, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@84a4e39, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@488a0bd1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37b8eeb2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@770f5e13, org.springframework.security.web.session.SessionManagementFilter@613f0a88, org.springframework.security.web.access.ExceptionTranslationFilter@2923f20c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68e2fb18]
2021-02-05 01:47:23,955 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:47:24,955 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:47:25,088 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:47:25,099 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:47:25,102 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 5.591 seconds (JVM running for 285.75)
2021-02-05 01:47:25,107 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 01:47:41,018 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-3] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 01:47:41,022 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-3] Initializing Servlet 'dispatcherServlet'
2021-02-05 01:47:41,027 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-3] Completed initialization in 5 ms
2021-02-05 01:47:50,272 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] Intentando detectar si hay ligas sin equipos
2021-02-05 01:47:50,300 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] No se han detectado ligas sin equipos
2021-02-05 01:47:52,493 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:47:52,513 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Equipos obtenindos correctamente
2021-02-05 01:47:52,514 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Ordenando los equipos
2021-02-05 01:47:52,515 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Equipos ordenados correctamente
2021-02-05 01:50:00,003 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 01:50:10,062 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-7] Intentando detectar si hay ligas sin equipos
2021-02-05 01:50:10,078 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-7] No se han detectado ligas sin equipos
2021-02-05 01:50:12,095 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:50:12,100 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Equipos obtenindos correctamente
2021-02-05 01:50:12,102 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Ordenando los equipos
2021-02-05 01:50:12,103 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Equipos ordenados correctamente
2021-02-05 01:50:16,229 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-8] Comprando fichaje con suficiente dinero
2021-02-05 01:55:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 01:56:01,264 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:56:01,265 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:56:01,270 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-10] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:56:01,272 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:56:01,277 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:56:01,278 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:56:01,286 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:56:01,288 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:56:01,289 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:56:01,290 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:56:01,291 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:56:01,292 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:56:01,296 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:56:01,299 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 01:56:01,502 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-10] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 01:56:01,503 INFO com.zaxxer.hikari.HikariDataSource [Thread-10] HikariPool-2 - Shutdown initiated...
2021-02-05 01:56:01,516 INFO com.zaxxer.hikari.HikariDataSource [Thread-10] HikariPool-2 - Shutdown completed.
2021-02-05 01:56:02,325 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6896 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:56:02,326 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:56:02,326 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:56:03,020 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:56:03,178 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 157ms. Found 13 JPA repository interfaces.
2021-02-05 01:56:03,766 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:56:04,025 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:56:04,027 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:56:04,028 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:56:04,029 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:56:04,236 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:56:04,242 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:56:04,242 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1900 ms
2021-02-05 01:56:04,277 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Starting...
2021-02-05 01:56:04,283 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Start completed.
2021-02-05 01:56:04,284 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:56:04,378 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:56:04,408 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:56:04,417 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:56:05,126 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:56:05,127 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:56:05,135 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:56:05,608 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:56:05,903 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e4f8804, org.springframework.security.web.context.SecurityContextPersistenceFilter@1acabe38, org.springframework.security.web.header.HeaderWriterFilter@8df7d08, org.springframework.security.web.csrf.CsrfFilter@4f23ac61, org.springframework.security.web.authentication.logout.LogoutFilter@380929f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@99cee94, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@495f0f52, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1e02c988, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30d6af1a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4312b335, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76b8d27c, org.springframework.security.web.session.SessionManagementFilter@485843f6, org.springframework.security.web.access.ExceptionTranslationFilter@28505cdf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4585aaee]
2021-02-05 01:56:05,985 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:56:06,820 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:56:06,914 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:56:06,926 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:56:06,928 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 4.7 seconds (JVM running for 807.575)
2021-02-05 01:56:06,934 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 01:56:16,794 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-3] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 01:56:16,798 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-3] Initializing Servlet 'dispatcherServlet'
2021-02-05 01:56:16,802 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-3] Completed initialization in 3 ms
2021-02-05 01:56:16,853 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-3] Intentando detectar si hay ligas sin equipos
2021-02-05 01:56:16,877 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-3] No se han detectado ligas sin equipos
2021-02-05 01:56:21,029 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:56:21,041 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos obtenindos correctamente
2021-02-05 01:56:21,042 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Ordenando los equipos
2021-02-05 01:56:21,044 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos ordenados correctamente
2021-02-05 01:56:32,539 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-8] Intentando detectar si hay ligas sin equipos
2021-02-05 01:56:32,557 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-8] No se han detectado ligas sin equipos
2021-02-05 01:56:34,315 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:56:34,319 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Equipos obtenindos correctamente
2021-02-05 01:56:34,320 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Ordenando los equipos
2021-02-05 01:56:34,321 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Equipos ordenados correctamente
2021-02-05 01:56:49,206 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-8] Comprando fichaje con suficiente dinero
2021-02-05 01:57:22,405 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-16] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:57:22,406 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-16] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:57:22,409 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-16] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:57:22,410 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:57:22,417 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:57:22,418 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:57:22,422 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:57:22,423 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:57:22,424 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:57:22,425 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:57:22,427 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:57:22,428 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:57:22,430 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:57:22,433 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 01:57:22,637 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-16] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 01:57:22,638 INFO com.zaxxer.hikari.HikariDataSource [Thread-16] HikariPool-3 - Shutdown initiated...
2021-02-05 01:57:22,641 INFO com.zaxxer.hikari.HikariDataSource [Thread-16] HikariPool-3 - Shutdown completed.
2021-02-05 01:57:23,554 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6896 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:57:23,555 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:57:23,555 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:57:24,207 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:57:24,364 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 155ms. Found 13 JPA repository interfaces.
2021-02-05 01:57:24,881 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:57:25,143 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:57:25,144 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:57:25,145 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:57:25,146 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:57:25,339 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:57:25,343 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:57:25,344 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1779 ms
2021-02-05 01:57:25,368 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-4 - Starting...
2021-02-05 01:57:25,372 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-4 - Start completed.
2021-02-05 01:57:25,373 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:57:25,487 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:57:25,508 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:57:25,516 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:57:26,199 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:57:26,200 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:57:26,212 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:57:26,685 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:57:26,919 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b13b10f, org.springframework.security.web.context.SecurityContextPersistenceFilter@618ac059, org.springframework.security.web.header.HeaderWriterFilter@5a1a9f45, org.springframework.security.web.csrf.CsrfFilter@303031d4, org.springframework.security.web.authentication.logout.LogoutFilter@4c3dabc1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6611b5fb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@fadb7f7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@27bb154d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e114951, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@707f0161, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@70a8bc7, org.springframework.security.web.session.SessionManagementFilter@5085f50c, org.springframework.security.web.access.ExceptionTranslationFilter@550941b8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@754abb76]
2021-02-05 01:57:26,997 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:57:27,537 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:57:27,784 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:57:27,796 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:57:27,798 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 4.361 seconds (JVM running for 888.445)
2021-02-05 01:57:27,809 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 01:57:33,575 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 01:57:33,577 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-2] Initializing Servlet 'dispatcherServlet'
2021-02-05 01:57:33,582 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-2] Completed initialization in 4 ms
2021-02-05 01:57:33,633 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] Intentando detectar si hay ligas sin equipos
2021-02-05 01:57:33,647 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] No se han detectado ligas sin equipos
2021-02-05 01:57:36,914 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 01:57:36,929 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Equipos obtenindos correctamente
2021-02-05 01:57:36,929 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Ordenando los equipos
2021-02-05 01:57:36,930 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-1] Equipos ordenados correctamente
2021-02-05 01:57:51,023 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-8] Comprando fichaje con suficiente dinero
2021-02-05 01:59:26,221 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-21] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:59:26,223 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-21] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:59:26,227 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-21] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:59:26,227 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:59:26,234 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:59:26,235 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:59:26,240 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:59:26,241 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:59:26,243 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:59:26,244 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:59:26,245 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:59:26,246 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:59:26,249 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:59:26,250 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 01:59:26,454 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-21] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 01:59:26,455 INFO com.zaxxer.hikari.HikariDataSource [Thread-21] HikariPool-4 - Shutdown initiated...
2021-02-05 01:59:26,464 INFO com.zaxxer.hikari.HikariDataSource [Thread-21] HikariPool-4 - Shutdown completed.
2021-02-05 01:59:27,326 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6896 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:59:27,326 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:59:27,327 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:59:28,009 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:59:28,115 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 106ms. Found 13 JPA repository interfaces.
2021-02-05 01:59:28,350 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:59:28,565 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:59:28,566 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:59:28,567 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:59:28,567 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:59:28,754 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:59:28,759 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:59:28,760 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1422 ms
2021-02-05 01:59:28,788 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Starting...
2021-02-05 01:59:28,792 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Start completed.
2021-02-05 01:59:28,793 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:59:28,884 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:59:28,902 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:59:28,908 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:59:29,481 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:59:29,482 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:59:29,495 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:59:29,944 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:59:30,181 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a58a7a8, org.springframework.security.web.context.SecurityContextPersistenceFilter@104c670d, org.springframework.security.web.header.HeaderWriterFilter@7ece1e29, org.springframework.security.web.csrf.CsrfFilter@5ab8cef7, org.springframework.security.web.authentication.logout.LogoutFilter@5212177b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@56d93f6d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@511f10b7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7d662e7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2dbba826, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@238ad4ee, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7f6358f2, org.springframework.security.web.session.SessionManagementFilter@c9fcf1f, org.springframework.security.web.access.ExceptionTranslationFilter@2033bf35, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71712788]
2021-02-05 01:59:30,242 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:59:30,773 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:59:30,952 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:59:31,004 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:59:31,006 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.766 seconds (JVM running for 1011.653)
2021-02-05 01:59:31,010 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 01:59:43,142 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-26] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:59:43,144 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-26] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:59:43,147 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-26] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:59:43,148 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:59:43,156 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:59:43,157 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:59:43,161 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:59:43,162 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:59:43,163 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:59:43,164 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:59:43,165 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:59:43,166 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:59:43,168 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:59:43,170 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 01:59:43,375 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-26] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 01:59:43,376 INFO com.zaxxer.hikari.HikariDataSource [Thread-26] HikariPool-5 - Shutdown initiated...
2021-02-05 01:59:43,381 INFO com.zaxxer.hikari.HikariDataSource [Thread-26] HikariPool-5 - Shutdown completed.
2021-02-05 01:59:44,176 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6896 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 01:59:44,177 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 01:59:44,177 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 01:59:44,673 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 01:59:44,786 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 112ms. Found 13 JPA repository interfaces.
2021-02-05 01:59:45,007 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 01:59:45,239 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 01:59:45,240 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 01:59:45,241 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 01:59:45,241 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 01:59:45,378 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 01:59:45,382 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 01:59:45,382 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1194 ms
2021-02-05 01:59:45,402 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Starting...
2021-02-05 01:59:45,406 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Start completed.
2021-02-05 01:59:45,406 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 01:59:45,477 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 01:59:45,492 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 01:59:45,503 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 01:59:46,122 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 01:59:46,123 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:59:46,130 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 01:59:46,515 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 01:59:46,714 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f7ded, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c77a8d4, org.springframework.security.web.header.HeaderWriterFilter@9c27204, org.springframework.security.web.csrf.CsrfFilter@1fc85dc4, org.springframework.security.web.authentication.logout.LogoutFilter@1855a3c2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2211648, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@64b85ed4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@54849de4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7800a408, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6248bb5e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d7dcd57, org.springframework.security.web.session.SessionManagementFilter@610cef4c, org.springframework.security.web.access.ExceptionTranslationFilter@43f0f87a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4cb2b259]
2021-02-05 01:59:46,773 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 01:59:47,306 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 01:59:47,419 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 01:59:47,427 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 01:59:47,429 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.329 seconds (JVM running for 1028.076)
2021-02-05 01:59:47,431 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 01:59:59,965 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-31] Shutting down ExecutorService 'taskScheduler'
2021-02-05 01:59:59,968 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-31] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 01:59:59,971 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-31] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 01:59:59,973 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 01:59:59,979 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 01:59:59,980 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 01:59:59,982 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 01:59:59,983 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 01:59:59,984 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 01:59:59,984 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 01:59:59,985 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 01:59:59,986 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 01:59:59,988 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 01:59:59,990 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:00:00,193 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-31] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:00:00,194 INFO com.zaxxer.hikari.HikariDataSource [Thread-31] HikariPool-6 - Shutdown initiated...
2021-02-05 02:00:00,200 INFO com.zaxxer.hikari.HikariDataSource [Thread-31] HikariPool-6 - Shutdown completed.
2021-02-05 02:00:01,196 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6896 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:00:01,197 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:00:01,197 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:00:01,721 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:00:01,826 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 104ms. Found 13 JPA repository interfaces.
2021-02-05 02:00:02,021 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:00:02,188 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:00:02,190 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:00:02,191 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:00:02,191 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:00:02,329 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:00:02,333 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:00:02,334 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1125 ms
2021-02-05 02:00:02,357 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-7 - Starting...
2021-02-05 02:00:02,361 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-7 - Start completed.
2021-02-05 02:00:02,361 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:00:02,433 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:00:02,450 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:00:02,457 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:00:03,077 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:00:03,078 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:00:03,087 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:00:03,565 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:00:03,797 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25e2c81e, org.springframework.security.web.context.SecurityContextPersistenceFilter@588b5ac9, org.springframework.security.web.header.HeaderWriterFilter@382a7816, org.springframework.security.web.csrf.CsrfFilter@72162558, org.springframework.security.web.authentication.logout.LogoutFilter@b7a1355, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@b3f70e7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6a81aaf6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@25c685a3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e4ba182, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55ca9495, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b819379, org.springframework.security.web.session.SessionManagementFilter@1bf4800a, org.springframework.security.web.access.ExceptionTranslationFilter@7392b68c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f5a389]
2021-02-05 02:00:03,860 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:00:04,258 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:00:04,404 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:00:04,422 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:00:04,426 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.336 seconds (JVM running for 1045.073)
2021-02-05 02:00:04,429 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:00:09,673 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-36] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:00:09,680 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-36] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:00:09,683 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-36] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:00:09,683 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:00:09,689 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:00:09,690 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:00:09,693 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:00:09,694 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:00:09,694 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:00:09,695 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:00:09,698 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:00:09,700 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:00:09,702 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:00:09,704 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:00:09,908 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-36] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:00:09,910 INFO com.zaxxer.hikari.HikariDataSource [Thread-36] HikariPool-7 - Shutdown initiated...
2021-02-05 02:00:09,915 INFO com.zaxxer.hikari.HikariDataSource [Thread-36] HikariPool-7 - Shutdown completed.
2021-02-05 02:00:10,763 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6896 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:00:10,764 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:00:10,764 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:00:11,313 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:00:11,421 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 106ms. Found 13 JPA repository interfaces.
2021-02-05 02:00:11,612 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:00:11,770 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:00:11,771 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:00:11,771 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:00:11,772 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:00:11,903 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:00:11,905 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:00:11,906 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1131 ms
2021-02-05 02:00:11,931 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-8 - Starting...
2021-02-05 02:00:11,934 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-8 - Start completed.
2021-02-05 02:00:11,935 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:00:12,004 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:00:12,019 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:00:12,030 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:00:12,759 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:00:12,760 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:00:12,768 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:00:13,244 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:00:13,473 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d2ac004, org.springframework.security.web.context.SecurityContextPersistenceFilter@a89be9f, org.springframework.security.web.header.HeaderWriterFilter@69bb1479, org.springframework.security.web.csrf.CsrfFilter@110a7d02, org.springframework.security.web.authentication.logout.LogoutFilter@175cc453, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@444456ba, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@375ab495, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3c7a22aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71c08e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3635cca6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d323047, org.springframework.security.web.session.SessionManagementFilter@48a938e5, org.springframework.security.web.access.ExceptionTranslationFilter@2ca43791, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f5bcc5e]
2021-02-05 02:00:13,566 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:00:13,963 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:00:14,085 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:00:14,092 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:00:14,094 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.41 seconds (JVM running for 1054.741)
2021-02-05 02:00:14,096 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:00:18,684 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:00:18,686 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:00:18,690 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 4 ms
2021-02-05 02:00:18,746 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] Intentando detectar si hay ligas sin equipos
2021-02-05 02:00:18,765 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] No se han detectado ligas sin equipos
2021-02-05 02:00:22,475 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:00:22,488 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Equipos obtenindos correctamente
2021-02-05 02:00:22,488 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Ordenando los equipos
2021-02-05 02:00:22,489 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Equipos ordenados correctamente
2021-02-05 02:00:34,006 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-5] Comprando fichaje con suficiente dinero
2021-02-05 02:00:38,821 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8090-exec-5] Resolved [org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find org.springframework.samples.petclinic.model.Recruit with id 1; nested exception is javax.persistence.EntityNotFoundException: Unable to find org.springframework.samples.petclinic.model.Recruit with id 1]
2021-02-05 02:02:27,124 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-41] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:02:27,128 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-41] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:02:27,131 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-41] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:02:27,133 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:02:27,144 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:02:27,144 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:02:27,147 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:02:27,149 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:02:27,151 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:02:27,152 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:02:27,153 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:02:27,154 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:02:27,158 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:02:27,160 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:02:27,364 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-41] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:02:27,365 INFO com.zaxxer.hikari.HikariDataSource [Thread-41] HikariPool-8 - Shutdown initiated...
2021-02-05 02:02:27,373 INFO com.zaxxer.hikari.HikariDataSource [Thread-41] HikariPool-8 - Shutdown completed.
2021-02-05 02:02:28,398 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6896 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:02:28,398 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:02:28,398 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:02:29,012 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:02:29,126 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 113ms. Found 13 JPA repository interfaces.
2021-02-05 02:02:29,593 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:02:29,770 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:02:29,771 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:02:29,772 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:02:29,772 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:02:29,893 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:02:29,895 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:02:29,896 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1489 ms
2021-02-05 02:02:29,914 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-9 - Starting...
2021-02-05 02:02:29,917 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-9 - Start completed.
2021-02-05 02:02:29,917 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:02:29,993 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:02:30,009 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:02:30,017 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:02:30,740 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:02:30,741 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:02:30,751 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:02:31,188 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:02:31,407 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e49407d, org.springframework.security.web.context.SecurityContextPersistenceFilter@61719eed, org.springframework.security.web.header.HeaderWriterFilter@59e463d, org.springframework.security.web.csrf.CsrfFilter@1c6e154e, org.springframework.security.web.authentication.logout.LogoutFilter@9488a4b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2bbe6daa, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@474c050a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7128dbf8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74fae6d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a2e9d5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73cea99e, org.springframework.security.web.session.SessionManagementFilter@dd93e7d, org.springframework.security.web.access.ExceptionTranslationFilter@5ec96af0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3466c05b]
2021-02-05 02:02:31,484 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:02:32,010 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:02:32,126 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:02:32,137 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:02:32,139 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.834 seconds (JVM running for 1192.786)
2021-02-05 02:02:32,141 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:02:41,147 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:02:41,150 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-2] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:02:41,155 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-2] Completed initialization in 4 ms
2021-02-05 02:02:41,226 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-2] Comprando fichaje con suficiente dinero
2021-02-05 02:02:45,376 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8090-exec-2] Resolved [org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find org.springframework.samples.petclinic.model.Recruit with id 1; nested exception is javax.persistence.EntityNotFoundException: Unable to find org.springframework.samples.petclinic.model.Recruit with id 1]
2021-02-05 02:03:18,780 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 4700 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:03:18,785 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:03:18,786 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:03:18,885 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\alvar\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-02-05 02:03:18,886 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-02-05 02:03:18,886 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-02-05 02:03:20,348 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:03:20,642 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 270ms. Found 13 JPA repository interfaces.
2021-02-05 02:03:21,540 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:03:22,452 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:03:22,473 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:03:22,475 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:03:22,476 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:03:23,177 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:03:23,185 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:03:23,186 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4299 ms
2021-02-05 02:03:23,279 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-02-05 02:03:23,679 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-02-05 02:03:23,696 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:03:24,037 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:03:24,184 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.10.Final}
2021-02-05 02:03:24,483 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-02-05 02:03:24,766 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:03:24,906 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:03:28,314 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:03:28,331 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:03:28,366 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:03:30,070 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:03:30,721 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c621293, org.springframework.security.web.context.SecurityContextPersistenceFilter@104ad7ef, org.springframework.security.web.header.HeaderWriterFilter@15055944, org.springframework.security.web.csrf.CsrfFilter@779e8c0b, org.springframework.security.web.authentication.logout.LogoutFilter@7b54c27b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@688326fc, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5fe56f98, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3ae2aa7a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d29e76e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ed795a8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e80c2b4, org.springframework.security.web.session.SessionManagementFilter@4790d0e2, org.springframework.security.web.access.ExceptionTranslationFilter@4bf905e1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@515bcafe]
2021-02-05 02:03:30,977 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:03:32,415 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:03:32,595 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:03:32,663 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:03:32,666 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 14.625 seconds (JVM running for 15.82)
2021-02-05 02:05:00,003 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 02:10:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 02:15:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 02:18:10,289 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:18:10,290 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:18:10,305 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 15 ms
2021-02-05 02:18:20,138 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-7] Intentando detectar si hay ligas sin equipos
2021-02-05 02:18:20,173 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-7] No se han detectado ligas sin equipos
2021-02-05 02:18:21,823 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:18:21,854 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos obtenindos correctamente
2021-02-05 02:18:21,855 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Ordenando los equipos
2021-02-05 02:18:21,856 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos ordenados correctamente
2021-02-05 02:18:26,818 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-10] Comprando fichaje con suficiente dinero
2021-02-05 02:18:26,989 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8090-exec-10] Resolved [org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find org.springframework.samples.petclinic.model.Recruit with id 1; nested exception is javax.persistence.EntityNotFoundException: Unable to find org.springframework.samples.petclinic.model.Recruit with id 1]
2021-02-05 02:20:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 02:21:13,059 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6544 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:21:13,065 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:21:13,066 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:21:13,190 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\alvar\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-02-05 02:21:13,190 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-02-05 02:21:13,191 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-02-05 02:21:15,285 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:21:15,583 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 270ms. Found 13 JPA repository interfaces.
2021-02-05 02:21:16,758 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:21:17,864 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:21:17,899 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:21:17,900 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:21:17,901 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:21:18,533 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:21:18,545 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:21:18,546 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 5355 ms
2021-02-05 02:21:18,698 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-02-05 02:21:19,206 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-02-05 02:21:19,232 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:21:19,772 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:21:20,017 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.10.Final}
2021-02-05 02:21:20,396 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-02-05 02:21:20,730 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:21:20,887 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:21:24,816 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:21:24,833 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:21:24,930 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:21:26,815 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:21:27,715 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@859656f, org.springframework.security.web.context.SecurityContextPersistenceFilter@144947c3, org.springframework.security.web.header.HeaderWriterFilter@7c126d6d, org.springframework.security.web.csrf.CsrfFilter@57b4f805, org.springframework.security.web.authentication.logout.LogoutFilter@15e0a4a2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@53c8e16, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1f02c9a2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@62d87bee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@da03239, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c98cae6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56ce8f81, org.springframework.security.web.session.SessionManagementFilter@6c2bc5d2, org.springframework.security.web.access.ExceptionTranslationFilter@3235f319, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4137dda4]
2021-02-05 02:21:27,981 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:21:29,997 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:21:30,223 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:21:30,348 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:21:30,353 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 18.218 seconds (JVM running for 20.06)
2021-02-05 02:21:36,388 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:21:36,388 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:21:36,414 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 25 ms
2021-02-05 02:21:56,812 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-10] Intentando detectar si hay ligas sin equipos
2021-02-05 02:21:56,911 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-10] No se han detectado ligas sin equipos
2021-02-05 02:22:02,536 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:22:02,584 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos obtenindos correctamente
2021-02-05 02:22:02,585 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Ordenando los equipos
2021-02-05 02:22:02,587 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos ordenados correctamente
2021-02-05 02:22:45,802 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-8] Comprando fichaje con suficiente dinero
2021-02-05 02:23:41,778 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8090-exec-8] Resolved [org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find org.springframework.samples.petclinic.model.Recruit with id 1; nested exception is javax.persistence.EntityNotFoundException: Unable to find org.springframework.samples.petclinic.model.Recruit with id 1]
2021-02-05 02:24:48,012 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:24:48,015 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:24:48,024 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:24:48,025 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:24:48,039 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:24:48,040 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:24:48,047 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:24:48,049 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:24:48,050 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:24:48,051 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:24:48,052 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:24:48,053 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:24:48,059 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:24:48,064 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:24:48,276 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:24:48,276 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2021-02-05 02:24:48,284 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2021-02-05 02:24:49,081 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6544 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:24:49,081 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:24:49,082 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:24:49,870 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:24:50,042 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 172ms. Found 13 JPA repository interfaces.
2021-02-05 02:24:50,380 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:24:50,636 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:24:50,638 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:24:50,638 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:24:50,639 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:24:50,836 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:24:50,839 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:24:50,840 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1745 ms
2021-02-05 02:24:50,880 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Starting...
2021-02-05 02:24:50,885 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Start completed.
2021-02-05 02:24:50,886 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:24:51,014 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:24:51,037 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:24:51,049 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:24:52,000 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:24:52,001 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:24:52,012 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:24:52,605 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:24:52,891 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d56da25, org.springframework.security.web.context.SecurityContextPersistenceFilter@2347e8ad, org.springframework.security.web.header.HeaderWriterFilter@435fc6b2, org.springframework.security.web.csrf.CsrfFilter@705b4161, org.springframework.security.web.authentication.logout.LogoutFilter@7a852b96, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@76d470a3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@123ecfdf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@630714a3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4937acd3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74609911, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46419594, org.springframework.security.web.session.SessionManagementFilter@93df0a2, org.springframework.security.web.access.ExceptionTranslationFilter@2bc83a4c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@34523629]
2021-02-05 02:24:52,978 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:24:53,964 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:24:54,100 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:24:54,111 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:24:54,114 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 5.126 seconds (JVM running for 223.82)
2021-02-05 02:24:54,118 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:24:59,401 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:24:59,403 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-2] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:24:59,409 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-2] Completed initialization in 5 ms
2021-02-05 02:24:59,466 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-2] Comprando fichaje con suficiente dinero
2021-02-05 02:25:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 02:25:44,215 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:25:44,217 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:25:44,220 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-10] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:25:44,221 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:25:44,226 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:25:44,227 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:25:44,234 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:25:44,235 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:25:44,236 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:25:44,237 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:25:44,238 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:25:44,239 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:25:44,244 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:25:44,246 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:25:44,449 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-10] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:25:44,450 INFO com.zaxxer.hikari.HikariDataSource [Thread-10] HikariPool-2 - Shutdown initiated...
2021-02-05 02:25:44,454 INFO com.zaxxer.hikari.HikariDataSource [Thread-10] HikariPool-2 - Shutdown completed.
2021-02-05 02:25:45,295 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6544 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:25:45,296 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:25:45,297 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:25:46,066 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:25:46,214 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 147ms. Found 13 JPA repository interfaces.
2021-02-05 02:25:46,455 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:25:46,727 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:25:46,729 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:25:46,732 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:25:46,733 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:25:46,952 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:25:46,957 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:25:46,958 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1640 ms
2021-02-05 02:25:46,996 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Starting...
2021-02-05 02:25:47,001 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Start completed.
2021-02-05 02:25:47,002 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:25:47,103 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:25:47,124 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:25:47,132 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:25:48,036 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:25:48,037 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:25:48,044 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:25:48,609 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:25:48,865 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34694f66, org.springframework.security.web.context.SecurityContextPersistenceFilter@595e4dc8, org.springframework.security.web.header.HeaderWriterFilter@6afef834, org.springframework.security.web.csrf.CsrfFilter@7c18d182, org.springframework.security.web.authentication.logout.LogoutFilter@4d5b9bfc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b1ed75a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6f2584f9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@23316a83, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@11330be8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c117ea2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a86a901, org.springframework.security.web.session.SessionManagementFilter@637014e5, org.springframework.security.web.access.ExceptionTranslationFilter@7f26e073, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4bf041cd]
2021-02-05 02:25:48,947 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:25:49,631 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:25:49,803 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:25:49,813 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:25:49,815 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 4.655 seconds (JVM running for 279.522)
2021-02-05 02:25:49,818 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:26:58,854 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:26:58,856 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-2] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:26:58,861 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-2] Completed initialization in 4 ms
2021-02-05 02:26:58,890 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] Intentando detectar si hay ligas sin equipos
2021-02-05 02:26:58,914 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] No se han detectado ligas sin equipos
2021-02-05 02:27:02,296 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:27:02,311 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos obtenindos correctamente
2021-02-05 02:27:02,311 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Ordenando los equipos
2021-02-05 02:27:02,312 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos ordenados correctamente
2021-02-05 02:27:06,014 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-3] Comprando fichaje con suficiente dinero
2021-02-05 02:27:09,805 WARN org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver [http-nio-8090-exec-3] Resolved [org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find org.springframework.samples.petclinic.model.Recruit with id 1; nested exception is javax.persistence.EntityNotFoundException: Unable to find org.springframework.samples.petclinic.model.Recruit with id 1]
2021-02-05 02:28:02,100 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-16] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:28:02,101 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-16] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:28:02,104 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-16] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:28:02,106 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:28:02,110 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:28:02,111 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:28:02,113 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:28:02,114 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:28:02,115 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:28:02,115 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:28:02,116 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:28:02,117 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:28:02,119 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:28:02,121 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:28:02,324 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-16] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:28:02,325 INFO com.zaxxer.hikari.HikariDataSource [Thread-16] HikariPool-3 - Shutdown initiated...
2021-02-05 02:28:02,329 INFO com.zaxxer.hikari.HikariDataSource [Thread-16] HikariPool-3 - Shutdown completed.
2021-02-05 02:28:03,244 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6544 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:28:03,245 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:28:03,246 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:28:03,940 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:28:04,095 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 154ms. Found 13 JPA repository interfaces.
2021-02-05 02:28:04,590 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:28:04,791 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:28:04,792 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:28:04,792 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:28:04,793 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:28:04,947 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:28:04,950 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:28:04,951 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1695 ms
2021-02-05 02:28:04,975 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-4 - Starting...
2021-02-05 02:28:04,979 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-4 - Start completed.
2021-02-05 02:28:04,980 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:28:05,064 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:28:05,087 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:28:05,098 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:28:05,838 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:28:05,840 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:28:05,850 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:28:06,312 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:28:06,541 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e21ddcb, org.springframework.security.web.context.SecurityContextPersistenceFilter@135f37a5, org.springframework.security.web.header.HeaderWriterFilter@1bea8f3e, org.springframework.security.web.csrf.CsrfFilter@26dbfb2c, org.springframework.security.web.authentication.logout.LogoutFilter@369d9481, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6b99f952, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@be6558c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@37910e6c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b4b8df3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@441770db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76f2de21, org.springframework.security.web.session.SessionManagementFilter@6aa4a346, org.springframework.security.web.access.ExceptionTranslationFilter@5b686c99, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@40c03c5b]
2021-02-05 02:28:06,611 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:28:07,236 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:28:07,344 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:28:07,354 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:28:07,356 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 4.238 seconds (JVM running for 417.063)
2021-02-05 02:28:07,358 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:28:35,532 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-21] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:28:35,535 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-21] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:28:35,537 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-21] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:28:35,538 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:28:35,544 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:28:35,545 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:28:35,551 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:28:35,553 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:28:35,554 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:28:35,556 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:28:35,558 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:28:35,559 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:28:35,563 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:28:35,565 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:28:35,769 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-21] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:28:35,770 INFO com.zaxxer.hikari.HikariDataSource [Thread-21] HikariPool-4 - Shutdown initiated...
2021-02-05 02:28:35,775 INFO com.zaxxer.hikari.HikariDataSource [Thread-21] HikariPool-4 - Shutdown completed.
2021-02-05 02:28:36,552 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6544 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:28:36,553 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:28:36,553 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:28:37,053 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:28:37,165 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 112ms. Found 13 JPA repository interfaces.
2021-02-05 02:28:37,347 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:28:37,540 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:28:37,541 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:28:37,541 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:28:37,541 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:28:37,704 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:28:37,709 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:28:37,710 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1150 ms
2021-02-05 02:28:37,740 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Starting...
2021-02-05 02:28:37,744 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Start completed.
2021-02-05 02:28:37,745 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:28:37,840 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:28:37,860 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:28:37,868 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:28:38,557 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:28:38,558 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:28:38,570 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:28:39,067 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:28:39,287 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2563a54d, org.springframework.security.web.context.SecurityContextPersistenceFilter@49ea0c5e, org.springframework.security.web.header.HeaderWriterFilter@1b2464fd, org.springframework.security.web.csrf.CsrfFilter@78cc2365, org.springframework.security.web.authentication.logout.LogoutFilter@5b2d9f06, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7a088a4a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@70d9116d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@31e9327e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ee186d5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6da1e78, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e42a79c, org.springframework.security.web.session.SessionManagementFilter@50a4ca24, org.springframework.security.web.access.ExceptionTranslationFilter@664237c9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f7c0718]
2021-02-05 02:28:39,360 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:28:40,106 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:28:40,222 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:28:40,255 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:28:40,257 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.788 seconds (JVM running for 449.964)
2021-02-05 02:28:40,259 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:28:44,460 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-26] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:28:44,466 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-26] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:28:44,469 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-26] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:28:44,470 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:28:44,478 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:28:44,481 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:28:44,484 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:28:44,486 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:28:44,486 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:28:44,488 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:28:44,489 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:28:44,490 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:28:44,491 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:28:44,493 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:28:44,699 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-26] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:28:44,700 INFO com.zaxxer.hikari.HikariDataSource [Thread-26] HikariPool-5 - Shutdown initiated...
2021-02-05 02:28:44,705 INFO com.zaxxer.hikari.HikariDataSource [Thread-26] HikariPool-5 - Shutdown completed.
2021-02-05 02:28:45,514 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 6544 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:28:45,514 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:28:45,515 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:28:46,063 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:28:46,175 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 110ms. Found 13 JPA repository interfaces.
2021-02-05 02:28:46,381 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:28:46,606 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:28:46,607 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:28:46,607 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:28:46,608 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:28:46,748 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:28:46,750 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:28:46,751 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1224 ms
2021-02-05 02:28:46,772 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Starting...
2021-02-05 02:28:46,775 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Start completed.
2021-02-05 02:28:46,776 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:28:46,847 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:28:46,866 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:28:46,876 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:28:47,514 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:28:47,515 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:28:47,524 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:28:47,996 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:28:48,237 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@415cbbd1, org.springframework.security.web.context.SecurityContextPersistenceFilter@527d3ef7, org.springframework.security.web.header.HeaderWriterFilter@417a8b4b, org.springframework.security.web.csrf.CsrfFilter@2e5f882, org.springframework.security.web.authentication.logout.LogoutFilter@73a0e40, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@79e24f09, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@551c8104, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@466ce7dc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@306b22b9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25ded72c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34b33539, org.springframework.security.web.session.SessionManagementFilter@7ff1e863, org.springframework.security.web.access.ExceptionTranslationFilter@59a77a63, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a571f4f]
2021-02-05 02:28:48,305 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:28:48,748 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:28:48,855 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:28:48,864 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:28:48,865 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.431 seconds (JVM running for 458.572)
2021-02-05 02:28:48,867 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:28:48,977 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:28:48,979 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:28:48,983 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 4 ms
2021-02-05 02:28:58,905 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] Intentando detectar si hay ligas sin equipos
2021-02-05 02:28:58,917 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] No se han detectado ligas sin equipos
2021-02-05 02:29:00,574 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:29:00,584 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos obtenindos correctamente
2021-02-05 02:29:00,585 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Ordenando los equipos
2021-02-05 02:29:00,587 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos ordenados correctamente
2021-02-05 02:29:03,888 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-5] Comprando fichaje con suficiente dinero
2021-02-05 02:30:00,002 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 02:30:42,520 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-31] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:30:42,522 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-31] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:30:42,528 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-31] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:30:42,529 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:30:42,534 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:30:42,536 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:30:42,540 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:30:42,542 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:30:42,543 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:30:42,544 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:30:42,545 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:30:42,546 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:30:42,552 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:30:42,555 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:30:42,759 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-31] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:30:42,760 INFO com.zaxxer.hikari.HikariDataSource [Thread-31] HikariPool-6 - Shutdown initiated...
2021-02-05 02:30:42,764 INFO com.zaxxer.hikari.HikariDataSource [Thread-31] HikariPool-6 - Shutdown completed.
2021-02-05 02:36:16,128 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15628 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:36:16,132 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:36:16,133 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:36:16,225 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\alvar\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-02-05 02:36:16,226 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-02-05 02:36:16,226 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-02-05 02:36:17,650 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:36:17,874 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 205ms. Found 13 JPA repository interfaces.
2021-02-05 02:36:18,711 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:36:19,743 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:36:19,761 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:36:19,762 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:36:19,763 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:36:20,339 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:36:20,350 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:36:20,351 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4123 ms
2021-02-05 02:36:20,438 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-02-05 02:36:20,874 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-02-05 02:36:20,890 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:36:21,194 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:36:21,357 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.10.Final}
2021-02-05 02:36:21,636 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-02-05 02:36:21,848 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:36:21,972 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:36:25,358 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:36:25,370 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:36:25,400 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:36:26,905 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:36:27,468 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@673e5a34, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a18414e, org.springframework.security.web.header.HeaderWriterFilter@4f75b926, org.springframework.security.web.csrf.CsrfFilter@5ab01aff, org.springframework.security.web.authentication.logout.LogoutFilter@4de1bbed, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@68f99d6c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3d29e76e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7b35ce98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@228491e4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@104ad7ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ec848fa, org.springframework.security.web.session.SessionManagementFilter@207b2e50, org.springframework.security.web.access.ExceptionTranslationFilter@25908642, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79171613]
2021-02-05 02:36:27,708 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:36:29,306 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:36:29,484 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:36:29,556 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:36:29,560 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 14.092 seconds (JVM running for 15.25)
2021-02-05 02:36:29,857 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:36:29,858 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:36:29,869 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 11 ms
2021-02-05 02:36:36,600 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-7] Intentando detectar si hay ligas sin equipos
2021-02-05 02:36:36,678 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-7] No se han detectado ligas sin equipos
2021-02-05 02:36:41,661 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:36:41,697 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Equipos obtenindos correctamente
2021-02-05 02:36:41,698 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Ordenando los equipos
2021-02-05 02:36:41,700 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Equipos ordenados correctamente
2021-02-05 02:36:46,337 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-9] Comprando fichaje con suficiente dinero
2021-02-05 02:40:00,000 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 02:41:19,007 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:41:19,008 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:41:19,013 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:41:19,014 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:41:19,024 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:41:19,024 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:41:19,031 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:41:19,032 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:41:19,033 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:41:19,034 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:41:19,034 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:41:19,035 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:41:19,039 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:41:19,041 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:41:19,251 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:41:19,251 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2021-02-05 02:41:19,258 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2021-02-05 02:41:19,924 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15628 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:41:19,925 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:41:19,925 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:41:20,506 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:41:20,633 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 126ms. Found 13 JPA repository interfaces.
2021-02-05 02:41:20,805 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:41:21,032 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:41:21,034 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:41:21,035 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:41:21,035 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:41:21,245 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:41:21,250 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:41:21,250 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1318 ms
2021-02-05 02:41:21,284 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Starting...
2021-02-05 02:41:21,289 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Start completed.
2021-02-05 02:41:21,290 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:41:21,402 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:41:21,420 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:41:21,429 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:41:22,079 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:41:22,080 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:41:22,088 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:41:22,501 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:41:22,697 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@374e5886, org.springframework.security.web.context.SecurityContextPersistenceFilter@1874404c, org.springframework.security.web.header.HeaderWriterFilter@167f52cb, org.springframework.security.web.csrf.CsrfFilter@6003db57, org.springframework.security.web.authentication.logout.LogoutFilter@2b4d8c75, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@14f7c7fa, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@611ae37e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@456d292b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74809d7b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1885602a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@258ef060, org.springframework.security.web.session.SessionManagementFilter@66d3f6a2, org.springframework.security.web.access.ExceptionTranslationFilter@15ef3eff, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7712e224]
2021-02-05 02:41:22,768 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:41:23,284 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:41:23,387 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:41:23,395 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:41:23,397 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.543 seconds (JVM running for 309.087)
2021-02-05 02:41:23,400 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:41:50,151 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:41:50,153 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:41:50,158 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-10] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:41:50,159 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:41:50,162 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:41:50,163 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:41:50,167 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:41:50,168 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:41:50,168 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:41:50,168 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:41:50,169 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:41:50,169 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:41:50,172 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:41:50,174 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:41:50,378 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-10] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:41:50,379 INFO com.zaxxer.hikari.HikariDataSource [Thread-10] HikariPool-2 - Shutdown initiated...
2021-02-05 02:41:50,383 INFO com.zaxxer.hikari.HikariDataSource [Thread-10] HikariPool-2 - Shutdown completed.
2021-02-05 02:41:51,022 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15628 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:41:51,023 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:41:51,024 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:41:51,477 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:41:51,578 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 100ms. Found 13 JPA repository interfaces.
2021-02-05 02:41:51,728 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:41:51,919 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:41:51,920 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:41:51,921 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:41:51,922 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:41:52,080 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:41:52,086 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:41:52,087 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1057 ms
2021-02-05 02:41:52,118 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Starting...
2021-02-05 02:41:52,123 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Start completed.
2021-02-05 02:41:52,124 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:41:52,222 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:41:52,237 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:41:52,244 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:41:52,805 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:41:52,805 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:41:52,814 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:41:53,198 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:41:53,394 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14f76cd, org.springframework.security.web.context.SecurityContextPersistenceFilter@49424a06, org.springframework.security.web.header.HeaderWriterFilter@75abbfb8, org.springframework.security.web.csrf.CsrfFilter@20b079fb, org.springframework.security.web.authentication.logout.LogoutFilter@4e04393b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6ed92fd0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3c8f0698, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@789b3a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3493af01, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@100f2c9b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d9f54bd, org.springframework.security.web.session.SessionManagementFilter@246b28ff, org.springframework.security.web.access.ExceptionTranslationFilter@4fde9132, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@66339bf0]
2021-02-05 02:41:53,462 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:41:53,910 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:41:54,006 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:41:54,014 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:41:54,016 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.056 seconds (JVM running for 339.706)
2021-02-05 02:41:54,018 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:42:38,483 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-16] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:42:38,487 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-16] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:42:38,491 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-16] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:42:38,492 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:42:38,499 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:42:38,500 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:42:38,506 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:42:38,507 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:42:38,508 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:42:38,508 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:42:38,510 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:42:38,511 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:42:38,514 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:42:38,515 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:42:38,719 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-16] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:42:38,719 INFO com.zaxxer.hikari.HikariDataSource [Thread-16] HikariPool-3 - Shutdown initiated...
2021-02-05 02:42:38,725 INFO com.zaxxer.hikari.HikariDataSource [Thread-16] HikariPool-3 - Shutdown completed.
2021-02-05 02:42:39,495 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15628 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:42:39,496 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:42:39,496 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:42:39,951 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:42:40,048 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 96ms. Found 13 JPA repository interfaces.
2021-02-05 02:42:40,196 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:42:40,390 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:42:40,391 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:42:40,392 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:42:40,392 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:42:40,534 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:42:40,538 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:42:40,538 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1038 ms
2021-02-05 02:42:40,563 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-4 - Starting...
2021-02-05 02:42:40,567 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-4 - Start completed.
2021-02-05 02:42:40,567 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:42:40,637 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:42:40,653 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:42:40,660 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:42:41,181 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:42:41,181 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:42:41,189 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:42:41,565 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:42:41,727 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a965db5, org.springframework.security.web.context.SecurityContextPersistenceFilter@3d82a3e4, org.springframework.security.web.header.HeaderWriterFilter@752f2f97, org.springframework.security.web.csrf.CsrfFilter@2c09029a, org.springframework.security.web.authentication.logout.LogoutFilter@652df226, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5be7678c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@b12056c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@34bcda85, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@508689b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@957ac3a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c6cb1ac, org.springframework.security.web.session.SessionManagementFilter@59fb7793, org.springframework.security.web.access.ExceptionTranslationFilter@2703e621, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@64c38d6b]
2021-02-05 02:42:41,787 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:42:42,145 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:42:42,244 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:42:42,276 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:42:42,277 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.875 seconds (JVM running for 387.967)
2021-02-05 02:42:42,279 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:42:44,874 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-21] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:42:44,876 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-21] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:42:44,878 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-21] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:42:44,879 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:42:44,882 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:42:44,883 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:42:44,885 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:42:44,886 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:42:44,886 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:42:44,887 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:42:44,887 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:42:44,888 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:42:44,889 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:42:44,890 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:42:45,093 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-21] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:42:45,094 INFO com.zaxxer.hikari.HikariDataSource [Thread-21] HikariPool-4 - Shutdown initiated...
2021-02-05 02:42:45,099 INFO com.zaxxer.hikari.HikariDataSource [Thread-21] HikariPool-4 - Shutdown completed.
2021-02-05 02:42:45,749 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15628 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:42:45,750 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:42:45,750 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:42:46,300 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:42:46,401 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 99ms. Found 13 JPA repository interfaces.
2021-02-05 02:42:46,534 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:42:46,743 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:42:46,745 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:42:46,746 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:42:46,746 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:42:47,007 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:42:47,017 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:42:47,018 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1264 ms
2021-02-05 02:42:47,057 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Starting...
2021-02-05 02:42:47,063 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Start completed.
2021-02-05 02:42:47,064 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:42:47,158 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:42:47,177 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:42:47,185 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:42:47,717 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:42:47,718 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:42:47,724 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:42:48,065 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:42:48,247 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19f5bb91, org.springframework.security.web.context.SecurityContextPersistenceFilter@67269b17, org.springframework.security.web.header.HeaderWriterFilter@20b06484, org.springframework.security.web.csrf.CsrfFilter@28c498f2, org.springframework.security.web.authentication.logout.LogoutFilter@78239531, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@bb10301, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6b303f9f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@12439400, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6fe5e36c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4cd23e50, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3bedbb40, org.springframework.security.web.session.SessionManagementFilter@6b299d88, org.springframework.security.web.access.ExceptionTranslationFilter@1d32bf20, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1c56aa32]
2021-02-05 02:42:48,308 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:42:48,722 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:42:48,825 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:42:48,832 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:42:48,833 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.146 seconds (JVM running for 394.524)
2021-02-05 02:42:48,835 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:43:08,704 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-26] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:43:08,706 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-26] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:43:08,708 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-26] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:43:08,709 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:43:08,711 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:43:08,712 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:43:08,715 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:43:08,715 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:43:08,716 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:43:08,716 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:43:08,717 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:43:08,718 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:43:08,719 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:43:08,721 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:43:08,924 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-26] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:43:08,924 INFO com.zaxxer.hikari.HikariDataSource [Thread-26] HikariPool-5 - Shutdown initiated...
2021-02-05 02:43:08,930 INFO com.zaxxer.hikari.HikariDataSource [Thread-26] HikariPool-5 - Shutdown completed.
2021-02-05 02:43:09,580 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15628 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:43:09,580 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:43:09,581 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:43:09,964 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:43:10,053 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 87ms. Found 13 JPA repository interfaces.
2021-02-05 02:43:10,170 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:43:10,347 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:43:10,348 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:43:10,348 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:43:10,348 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:43:10,475 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:43:10,478 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:43:10,479 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 893 ms
2021-02-05 02:43:10,497 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Starting...
2021-02-05 02:43:10,500 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Start completed.
2021-02-05 02:43:10,500 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:43:10,573 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:43:10,588 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:43:10,596 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:43:11,065 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:43:11,065 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:43:11,071 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:43:11,393 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:43:11,571 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61832cd6, org.springframework.security.web.context.SecurityContextPersistenceFilter@29f123c, org.springframework.security.web.header.HeaderWriterFilter@7483038b, org.springframework.security.web.csrf.CsrfFilter@5532a892, org.springframework.security.web.authentication.logout.LogoutFilter@1b1ed5d4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5cdab1bf, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@53d4bfd5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@11df1b68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@37a0a594, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b5377b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d16c80d, org.springframework.security.web.session.SessionManagementFilter@422944d3, org.springframework.security.web.access.ExceptionTranslationFilter@15e40dc6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@64a5040a]
2021-02-05 02:43:11,630 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:43:11,893 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:43:11,975 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:43:11,981 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:43:11,982 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.462 seconds (JVM running for 417.673)
2021-02-05 02:43:11,984 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:44:12,110 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:44:12,114 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:44:12,119 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 4 ms
2021-02-05 02:44:12,148 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] Intentando detectar si hay ligas sin equipos
2021-02-05 02:44:12,161 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] No se han detectado ligas sin equipos
2021-02-05 02:44:15,213 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:44:15,223 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Equipos obtenindos correctamente
2021-02-05 02:44:15,224 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Ordenando los equipos
2021-02-05 02:44:15,225 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-2] Equipos ordenados correctamente
2021-02-05 02:44:18,555 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-4] Comprando fichaje con suficiente dinero
2021-02-05 02:45:00,006 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 02:45:14,241 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-31] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:45:14,242 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-31] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:45:14,244 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-31] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:45:14,245 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:45:14,247 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:45:14,248 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:45:14,249 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:45:14,250 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:45:14,251 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:45:14,251 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:45:14,251 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:45:14,252 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:45:14,253 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:45:14,254 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:45:14,456 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-31] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:45:14,457 INFO com.zaxxer.hikari.HikariDataSource [Thread-31] HikariPool-6 - Shutdown initiated...
2021-02-05 02:45:14,462 INFO com.zaxxer.hikari.HikariDataSource [Thread-31] HikariPool-6 - Shutdown completed.
2021-02-05 02:45:15,204 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15628 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:45:15,204 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:45:15,205 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:45:15,619 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:45:15,718 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 99ms. Found 13 JPA repository interfaces.
2021-02-05 02:45:15,858 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:45:16,037 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:45:16,039 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:45:16,039 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:45:16,039 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:45:16,169 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:45:16,173 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:45:16,173 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 964 ms
2021-02-05 02:45:16,198 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-7 - Starting...
2021-02-05 02:45:16,203 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-7 - Start completed.
2021-02-05 02:45:16,204 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:45:16,282 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:45:16,295 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:45:16,300 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:45:16,868 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:45:16,869 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:45:16,878 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:45:17,226 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:45:17,410 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@587a4ee6, org.springframework.security.web.context.SecurityContextPersistenceFilter@5906f18a, org.springframework.security.web.header.HeaderWriterFilter@19231ee5, org.springframework.security.web.csrf.CsrfFilter@38219231, org.springframework.security.web.authentication.logout.LogoutFilter@1e3f2277, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26ac66cd, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@409940c9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3f26f211, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e01ce7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f542b6c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cc43276, org.springframework.security.web.session.SessionManagementFilter@6d024601, org.springframework.security.web.access.ExceptionTranslationFilter@45845c81, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c67fed5]
2021-02-05 02:45:17,476 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:45:17,736 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:45:17,820 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:45:17,827 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:45:17,829 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.674 seconds (JVM running for 543.519)
2021-02-05 02:45:17,830 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:45:22,525 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:45:22,529 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:45:22,532 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 3 ms
2021-02-05 02:45:34,411 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-10] Intentando detectar si hay ligas sin equipos
2021-02-05 02:45:34,437 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-10] No se han detectado ligas sin equipos
2021-02-05 02:45:35,901 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:45:35,917 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos obtenindos correctamente
2021-02-05 02:45:35,917 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Ordenando los equipos
2021-02-05 02:45:35,920 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos ordenados correctamente
2021-02-05 02:45:47,132 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] Intentando detectar si hay ligas sin equipos
2021-02-05 02:45:47,138 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] No se han detectado ligas sin equipos
2021-02-05 02:45:48,517 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:45:48,520 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Equipos obtenindos correctamente
2021-02-05 02:45:48,520 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Ordenando los equipos
2021-02-05 02:45:48,521 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Equipos ordenados correctamente
2021-02-05 02:45:52,026 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-2] Comprando fichaje con suficiente dinero
2021-02-05 02:49:07,824 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-36] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:49:07,825 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-36] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:49:07,827 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-36] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:49:07,828 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:49:07,830 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:49:07,831 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:49:07,833 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:49:07,835 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:49:07,836 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:49:07,836 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:49:07,837 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:49:07,837 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:49:07,839 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:49:07,840 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:49:08,043 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-36] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:49:08,043 INFO com.zaxxer.hikari.HikariDataSource [Thread-36] HikariPool-7 - Shutdown initiated...
2021-02-05 02:49:08,048 INFO com.zaxxer.hikari.HikariDataSource [Thread-36] HikariPool-7 - Shutdown completed.
2021-02-05 02:49:08,846 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15628 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:49:08,846 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:49:08,847 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:49:09,233 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:49:09,318 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 84ms. Found 13 JPA repository interfaces.
2021-02-05 02:49:09,434 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:49:09,598 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:49:09,598 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:49:09,599 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:49:09,599 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:49:09,719 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:49:09,722 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:49:09,722 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 871 ms
2021-02-05 02:49:09,739 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-8 - Starting...
2021-02-05 02:49:09,741 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-8 - Start completed.
2021-02-05 02:49:09,742 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:49:09,803 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:49:09,816 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:49:09,822 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:49:10,270 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:49:10,271 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:49:10,278 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:49:10,631 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:49:10,806 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55aa5544, org.springframework.security.web.context.SecurityContextPersistenceFilter@75ac348d, org.springframework.security.web.header.HeaderWriterFilter@38681c2a, org.springframework.security.web.csrf.CsrfFilter@6f7b64ad, org.springframework.security.web.authentication.logout.LogoutFilter@29445553, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@29b0b6ed, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@f13c9cb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7660b9ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@526fbf9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d572e3b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e45dffd, org.springframework.security.web.session.SessionManagementFilter@41467e04, org.springframework.security.web.access.ExceptionTranslationFilter@7b216b7a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6697cd4b]
2021-02-05 02:49:10,860 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:49:11,111 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:49:11,200 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:49:11,205 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:49:11,207 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.418 seconds (JVM running for 776.897)
2021-02-05 02:49:11,208 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:49:17,572 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:49:17,578 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:49:17,584 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 5 ms
2021-02-05 02:49:21,833 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] Intentando detectar si hay ligas sin equipos
2021-02-05 02:49:21,846 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] No se han detectado ligas sin equipos
2021-02-05 02:49:23,384 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:49:23,399 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos obtenindos correctamente
2021-02-05 02:49:23,400 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Ordenando los equipos
2021-02-05 02:49:23,401 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos ordenados correctamente
2021-02-05 02:49:35,004 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-5] Comprando fichaje con suficiente dinero
2021-02-05 02:50:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 02:50:17,581 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-41] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:50:17,582 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-41] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:50:17,584 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-41] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:50:17,585 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:50:17,586 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:50:17,587 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:50:17,589 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:50:17,589 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:50:17,590 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:50:17,590 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:50:17,590 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:50:17,591 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:50:17,592 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:50:17,593 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:50:17,794 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-41] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:50:17,795 INFO com.zaxxer.hikari.HikariDataSource [Thread-41] HikariPool-8 - Shutdown initiated...
2021-02-05 02:50:17,800 INFO com.zaxxer.hikari.HikariDataSource [Thread-41] HikariPool-8 - Shutdown completed.
2021-02-05 02:50:18,729 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15628 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:50:18,729 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:50:18,729 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:50:19,127 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:50:19,216 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 88ms. Found 13 JPA repository interfaces.
2021-02-05 02:50:19,337 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:50:19,528 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:50:19,529 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:50:19,530 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:50:19,530 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:50:19,660 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:50:19,662 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:50:19,662 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 929 ms
2021-02-05 02:50:19,678 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-9 - Starting...
2021-02-05 02:50:19,680 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-9 - Start completed.
2021-02-05 02:50:19,681 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:50:19,756 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:50:19,774 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:50:19,780 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:50:20,385 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:50:20,388 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:50:20,395 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:50:20,801 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:50:21,012 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40c33781, org.springframework.security.web.context.SecurityContextPersistenceFilter@66d75db7, org.springframework.security.web.header.HeaderWriterFilter@7ed7d8d2, org.springframework.security.web.csrf.CsrfFilter@3e19f766, org.springframework.security.web.authentication.logout.LogoutFilter@581eb608, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5285d39f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1cfac2f2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1732a557, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ace5a9e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a9f0e5d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37d11a56, org.springframework.security.web.session.SessionManagementFilter@17842ae6, org.springframework.security.web.access.ExceptionTranslationFilter@1fa276ed, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d73a609]
2021-02-05 02:50:21,081 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:50:21,355 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:50:21,440 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:50:21,445 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:50:21,446 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.769 seconds (JVM running for 847.137)
2021-02-05 02:50:21,448 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:50:25,672 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-46] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:50:25,674 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-46] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:50:25,676 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-46] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:50:25,676 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:50:25,680 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:50:25,681 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:50:25,683 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:50:25,684 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:50:25,684 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:50:25,685 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:50:25,685 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:50:25,686 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:50:25,689 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:50:25,692 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:50:25,894 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-46] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:50:25,895 INFO com.zaxxer.hikari.HikariDataSource [Thread-46] HikariPool-9 - Shutdown initiated...
2021-02-05 02:50:25,900 INFO com.zaxxer.hikari.HikariDataSource [Thread-46] HikariPool-9 - Shutdown completed.
2021-02-05 02:50:26,578 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15628 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:50:26,578 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:50:26,578 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:50:26,923 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:50:27,006 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 82ms. Found 13 JPA repository interfaces.
2021-02-05 02:50:27,113 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:50:27,264 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:50:27,265 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:50:27,265 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:50:27,265 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:50:27,403 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:50:27,406 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:50:27,407 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 825 ms
2021-02-05 02:50:27,428 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-10 - Starting...
2021-02-05 02:50:27,431 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-10 - Start completed.
2021-02-05 02:50:27,431 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:50:27,495 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:50:27,507 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:50:27,512 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:50:27,908 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:50:27,910 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:50:27,919 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:50:28,218 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:50:28,369 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19988cbc, org.springframework.security.web.context.SecurityContextPersistenceFilter@9e37445, org.springframework.security.web.header.HeaderWriterFilter@76ad956d, org.springframework.security.web.csrf.CsrfFilter@65aba5a6, org.springframework.security.web.authentication.logout.LogoutFilter@25228d07, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@156d15f8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4d8f4553, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@31f600e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d9ee354, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17021977, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d239030, org.springframework.security.web.session.SessionManagementFilter@315d715d, org.springframework.security.web.access.ExceptionTranslationFilter@1b83ef52, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78e68ff2]
2021-02-05 02:50:28,446 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:50:28,699 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:50:28,804 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:50:28,810 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:50:28,811 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.277 seconds (JVM running for 854.501)
2021-02-05 02:50:28,812 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:50:36,411 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:50:36,415 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:50:36,422 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 6 ms
2021-02-05 02:50:44,184 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-9] Intentando detectar si hay ligas sin equipos
2021-02-05 02:50:44,189 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-9] No se han detectado ligas sin equipos
2021-02-05 02:50:45,873 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:50:45,888 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos obtenindos correctamente
2021-02-05 02:50:45,891 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Ordenando los equipos
2021-02-05 02:50:45,893 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos ordenados correctamente
2021-02-05 02:50:48,615 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-5] Comprando fichaje con suficiente dinero
2021-02-05 02:51:01,131 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-51] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:51:01,132 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-51] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:51:01,134 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-51] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:51:01,134 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:51:01,139 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:51:01,140 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:51:01,145 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:51:01,145 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:51:01,147 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:51:01,147 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:51:01,148 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:51:01,149 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:51:01,152 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:51:01,154 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:51:01,360 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-51] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:51:01,364 INFO com.zaxxer.hikari.HikariDataSource [Thread-51] HikariPool-10 - Shutdown initiated...
2021-02-05 02:51:01,368 INFO com.zaxxer.hikari.HikariDataSource [Thread-51] HikariPool-10 - Shutdown completed.
2021-02-05 02:51:02,179 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15628 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:51:02,180 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:51:02,180 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:51:02,560 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:51:02,651 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 90ms. Found 13 JPA repository interfaces.
2021-02-05 02:51:02,752 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:51:02,913 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:51:02,914 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:51:02,915 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:51:02,915 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:51:03,054 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:51:03,058 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:51:03,058 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 875 ms
2021-02-05 02:51:03,076 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-11 - Starting...
2021-02-05 02:51:03,078 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-11 - Start completed.
2021-02-05 02:51:03,079 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:51:03,158 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:51:03,168 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:51:03,175 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:51:03,601 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:51:03,602 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:51:03,611 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:51:03,960 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:51:04,104 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a7f743a, org.springframework.security.web.context.SecurityContextPersistenceFilter@31d422b3, org.springframework.security.web.header.HeaderWriterFilter@5282bfa3, org.springframework.security.web.csrf.CsrfFilter@4d0a61b8, org.springframework.security.web.authentication.logout.LogoutFilter@44b56384, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1d128afe, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3a2618ee, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@53fbb715, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e1a16d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7922c910, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@740fa46e, org.springframework.security.web.session.SessionManagementFilter@2f4d8143, org.springframework.security.web.access.ExceptionTranslationFilter@4b188b3d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a01aa5e]
2021-02-05 02:51:04,155 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:51:04,427 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:51:04,526 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:51:04,533 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:51:04,534 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.406 seconds (JVM running for 890.224)
2021-02-05 02:51:04,535 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:51:18,442 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-56] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:51:18,445 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-56] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:51:18,448 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-56] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:51:18,448 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:51:18,454 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:51:18,454 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:51:18,456 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:51:18,457 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:51:18,457 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:51:18,458 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:51:18,458 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:51:18,459 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:51:18,460 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:51:18,461 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:51:18,664 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-56] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 02:51:18,664 INFO com.zaxxer.hikari.HikariDataSource [Thread-56] HikariPool-11 - Shutdown initiated...
2021-02-05 02:51:18,670 INFO com.zaxxer.hikari.HikariDataSource [Thread-56] HikariPool-11 - Shutdown completed.
2021-02-05 02:51:19,377 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15628 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:51:19,377 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:51:19,378 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:51:19,723 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:51:19,807 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 84ms. Found 13 JPA repository interfaces.
2021-02-05 02:51:19,910 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:51:20,067 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:51:20,068 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:51:20,068 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:51:20,068 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:51:20,179 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:51:20,182 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:51:20,182 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 801 ms
2021-02-05 02:51:20,196 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-12 - Starting...
2021-02-05 02:51:20,198 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-12 - Start completed.
2021-02-05 02:51:20,198 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:51:20,260 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:51:20,271 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:51:20,276 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:51:20,643 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:51:20,644 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:51:20,650 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:51:21,042 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:51:21,237 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a92ae10, org.springframework.security.web.context.SecurityContextPersistenceFilter@37f4cfad, org.springframework.security.web.header.HeaderWriterFilter@41fc7b03, org.springframework.security.web.csrf.CsrfFilter@311d3cb3, org.springframework.security.web.authentication.logout.LogoutFilter@74d7f4da, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@18c84f0c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6b6a7ebd, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7264e72b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2019553, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2087c273, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b8a81ca, org.springframework.security.web.session.SessionManagementFilter@6fd49e40, org.springframework.security.web.access.ExceptionTranslationFilter@12a4ec8c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3669efd2]
2021-02-05 02:51:21,308 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:51:21,532 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:51:21,615 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:51:21,622 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:51:21,623 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.296 seconds (JVM running for 907.314)
2021-02-05 02:51:21,625 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 02:52:19,454 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:52:19,458 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:52:19,468 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 7 ms
2021-02-05 02:52:45,327 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-8] Intentando detectar si hay ligas sin equipos
2021-02-05 02:52:45,345 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-8] No se han detectado ligas sin equipos
2021-02-05 02:52:46,908 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:52:46,916 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos obtenindos correctamente
2021-02-05 02:52:46,917 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Ordenando los equipos
2021-02-05 02:52:46,919 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos ordenados correctamente
2021-02-05 02:52:50,594 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-1] Comprando fichaje con suficiente dinero
2021-02-05 02:53:33,375 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-61] Shutting down ExecutorService 'taskScheduler'
2021-02-05 02:53:33,376 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-61] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 02:53:33,378 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-61] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:53:33,378 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 02:53:33,380 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 02:53:33,380 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 02:53:33,381 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 02:53:33,382 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 02:53:33,382 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 02:53:33,383 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 02:53:33,383 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 02:53:33,384 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 02:53:33,385 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 02:53:33,386 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 02:53:50,564 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 9624 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 02:53:50,571 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 02:53:50,572 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 02:53:50,711 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\alvar\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-02-05 02:53:50,712 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-02-05 02:53:50,712 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-02-05 02:53:52,852 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 02:53:53,245 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 366ms. Found 13 JPA repository interfaces.
2021-02-05 02:53:54,540 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 02:53:55,771 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 02:53:55,802 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 02:53:55,804 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 02:53:55,805 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 02:53:56,574 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 02:53:56,589 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 02:53:56,590 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 5877 ms
2021-02-05 02:53:56,723 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-02-05 02:53:57,431 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-02-05 02:53:57,451 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 02:53:57,919 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 02:53:58,136 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.10.Final}
2021-02-05 02:53:58,551 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-02-05 02:53:59,039 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 02:53:59,285 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 02:54:03,309 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 02:54:03,330 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 02:54:03,386 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 02:54:05,600 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 02:54:06,528 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d09162d, org.springframework.security.web.context.SecurityContextPersistenceFilter@21dfd5b3, org.springframework.security.web.header.HeaderWriterFilter@60e1143a, org.springframework.security.web.csrf.CsrfFilter@46943935, org.springframework.security.web.authentication.logout.LogoutFilter@2dac8a6d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@39ff46f6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7d3953ad, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6f88f246, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73626a75, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d8cbb04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59c01b3f, org.springframework.security.web.session.SessionManagementFilter@43cbd1dd, org.springframework.security.web.access.ExceptionTranslationFilter@2aef5be5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@38e5a309]
2021-02-05 02:54:06,872 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 02:54:09,269 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 02:54:09,479 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 02:54:09,575 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 02:54:09,581 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 19.951 seconds (JVM running for 21.907)
2021-02-05 02:54:16,668 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 02:54:16,668 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-2] Initializing Servlet 'dispatcherServlet'
2021-02-05 02:54:16,684 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-2] Completed initialization in 15 ms
2021-02-05 02:54:27,916 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-7] Intentando detectar si hay ligas sin equipos
2021-02-05 02:54:27,979 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-7] No se han detectado ligas sin equipos
2021-02-05 02:54:29,802 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:54:29,835 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos obtenindos correctamente
2021-02-05 02:54:29,836 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Ordenando los equipos
2021-02-05 02:54:29,837 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-8] Equipos ordenados correctamente
2021-02-05 02:54:46,021 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-7] Comprando fichaje con suficiente dinero
2021-02-05 02:55:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 02:57:21,366 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-6] Intentando detectar si hay ligas sin equipos
2021-02-05 02:57:21,392 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-6] No se han detectado ligas sin equipos
2021-02-05 02:57:23,581 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 02:57:23,594 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos obtenindos correctamente
2021-02-05 02:57:23,596 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Ordenando los equipos
2021-02-05 02:57:23,597 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-4] Equipos ordenados correctamente
2021-02-05 02:57:26,560 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-9] Servlet.service() for servlet [jsp] threw exception
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 02:57:26,564 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-9] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [javax.servlet.ServletException: javax.servlet.jsp.JspException: javax.el.ELException: javax.el.ELException: It is illegal to call get() on an empty optional] with root cause
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 03:00:00,000 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 03:00:05,731 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 03:00:05,734 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Equipos obtenindos correctamente
2021-02-05 03:00:05,735 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Ordenando los equipos
2021-02-05 03:00:05,736 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-6] Equipos ordenados correctamente
2021-02-05 03:01:23,422 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-5] Servlet.service() for servlet [jsp] threw exception
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 03:01:23,426 ERROR org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-5] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [javax.servlet.ServletException: javax.servlet.jsp.JspException: javax.el.ELException: javax.el.ELException: It is illegal to call get() on an empty optional] with root cause
javax.el.ELException: It is illegal to call get() on an empty optional
	at org.apache.el.stream.Optional.get(Optional.java:37)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at javax.el.BeanELResolver.invoke(BeanELResolver.java:158)
	at org.apache.jasper.el.JasperELResolver.invoke(JasperELResolver.java:163)
	at org.apache.el.parser.AstValue.getValue(AstValue.java:159)
	at org.apache.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:190)
	at org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate(PageContextImpl.java:701)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005fparam_005f3(teamDetails_jsp.java:1050)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_spring_005furl_005f1(teamDetails_jsp.java:1010)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_c_005fforEach_005f1(teamDetails_jsp.java:838)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp.access$5(teamDetails_jsp.java:796)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke0(teamDetails_jsp.java:1568)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp$Helper.invoke(teamDetails_jsp.java:1613)
	at org.apache.jsp.tag.web.layout_tag.doTag(layout_tag.java:157)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspx_meth_petclinic_005flayout_005f0(teamDetails_jsp.java:203)
	at org.apache.jsp.WEB_002dINF.jsp.leagues.teamDetails_jsp._jspService(teamDetails_jsp.java:170)
	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:477)
	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:385)
	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:329)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:712)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:384)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:312)
	at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:172)
	at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)
	at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1118)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:64)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:118)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:158)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:117)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:92)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:77)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:367)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:860)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1598)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2021-02-05 03:05:00,000 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 03:10:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 03:11:23,749 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:11:23,752 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:11:23,762 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:11:23,763 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:11:23,778 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:11:23,781 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:11:23,792 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:11:23,793 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:11:23,794 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:11:23,795 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:11:23,797 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:11:23,798 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:11:23,802 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:11:23,805 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:17:10,630 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:17:10,636 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:17:10,639 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:17:10,740 INFO org.springframework.boot.logging.DeferredLog [restartedMain] The Class-Path manifest attribute in C:\Users\alvar\.m2\repository\org\glassfish\jaxb\jaxb-runtime\2.3.2\jaxb-runtime-2.3.2.jar referenced one or more files that do not exist: file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.xml.bind-api-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/txw2-2.3.2.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/istack-commons-runtime-3.0.8.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/stax-ex-1.8.1.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/FastInfoset-1.2.16.jar,file:/C:/Users/alvar/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.2/jakarta.activation-api-1.2.1.jar
2021-02-05 03:17:10,741 INFO org.springframework.boot.logging.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2021-02-05 03:17:10,741 INFO org.springframework.boot.logging.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2021-02-05 03:17:12,412 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:17:12,695 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 262ms. Found 13 JPA repository interfaces.
2021-02-05 03:17:13,654 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:17:14,554 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:17:14,573 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:17:14,574 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:17:14,575 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:17:15,274 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:17:15,284 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:17:15,285 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 4543 ms
2021-02-05 03:17:15,387 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2021-02-05 03:17:15,793 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2021-02-05 03:17:15,809 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:17:16,156 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:17:16,298 INFO org.hibernate.Version [restartedMain] HHH000412: Hibernate Core {5.4.10.Final}
2021-02-05 03:17:16,632 INFO org.hibernate.annotations.common.reflection.java.JavaReflectionManager [restartedMain] HCANN000001: Hibernate Commons Annotations {5.1.0.Final}
2021-02-05 03:17:16,901 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:17:17,039 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:17:20,559 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:17:20,575 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:17:20,611 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:17:22,217 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:17:22,807 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@340ddaae, org.springframework.security.web.context.SecurityContextPersistenceFilter@f9d324d, org.springframework.security.web.header.HeaderWriterFilter@4d2bd2f8, org.springframework.security.web.csrf.CsrfFilter@25812f25, org.springframework.security.web.authentication.logout.LogoutFilter@61c5aac1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d169713, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@75482c8c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@569e38d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7962a52, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3941ed20, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79631ec6, org.springframework.security.web.session.SessionManagementFilter@201a19d1, org.springframework.security.web.access.ExceptionTranslationFilter@37601e0f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@11a6d00b]
2021-02-05 03:17:23,103 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:17:24,674 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:17:24,836 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:17:24,920 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:17:24,927 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 14.965 seconds (JVM running for 16.21)
2021-02-05 03:18:35,150 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:18:35,155 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-5] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:18:35,167 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-5] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:18:35,168 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:18:35,179 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:18:35,180 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:18:35,188 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:18:35,189 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:18:35,190 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:18:35,192 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:18:35,193 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:18:35,196 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:18:35,203 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:18:35,206 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-5] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:18:35,433 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-5] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:18:35,434 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown initiated...
2021-02-05 03:18:35,440 INFO com.zaxxer.hikari.HikariDataSource [Thread-5] HikariPool-1 - Shutdown completed.
2021-02-05 03:18:36,161 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:18:36,162 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:18:36,162 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:18:36,831 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:18:36,964 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 132ms. Found 13 JPA repository interfaces.
2021-02-05 03:18:37,176 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:18:37,442 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:18:37,444 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:18:37,445 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:18:37,445 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:18:37,703 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:18:37,708 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:18:37,708 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1540 ms
2021-02-05 03:18:37,750 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Starting...
2021-02-05 03:18:37,754 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-2 - Start completed.
2021-02-05 03:18:37,755 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:18:37,868 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:18:37,894 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:18:37,907 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:18:38,667 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:18:38,669 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:18:38,677 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:18:39,152 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:18:39,394 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2abb4390, org.springframework.security.web.context.SecurityContextPersistenceFilter@7cd040cf, org.springframework.security.web.header.HeaderWriterFilter@55a6c205, org.springframework.security.web.csrf.CsrfFilter@28189c10, org.springframework.security.web.authentication.logout.LogoutFilter@194238df, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5675eec9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@34c479cf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2c14ad82, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@62d6256f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18375da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7392d2e0, org.springframework.security.web.session.SessionManagementFilter@1044b6cb, org.springframework.security.web.access.ExceptionTranslationFilter@6f8e22d8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4203bb43]
2021-02-05 03:18:39,502 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:18:40,045 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:18:40,160 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:18:40,167 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:18:40,169 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 4.089 seconds (JVM running for 91.452)
2021-02-05 03:18:40,172 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:18:49,209 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:18:49,211 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-10] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:18:49,215 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-10] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:18:49,216 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:18:49,220 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:18:49,221 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:18:49,226 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:18:49,226 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:18:49,227 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:18:49,227 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:18:49,228 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:18:49,229 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:18:49,232 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:18:49,238 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-10] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:18:49,441 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-10] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:18:49,442 INFO com.zaxxer.hikari.HikariDataSource [Thread-10] HikariPool-2 - Shutdown initiated...
2021-02-05 03:18:49,448 INFO com.zaxxer.hikari.HikariDataSource [Thread-10] HikariPool-2 - Shutdown completed.
2021-02-05 03:18:50,095 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:18:50,096 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:18:50,097 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:18:50,709 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:18:50,823 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 112ms. Found 13 JPA repository interfaces.
2021-02-05 03:18:51,026 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:18:51,242 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:18:51,243 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:18:51,244 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:18:51,244 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:18:51,429 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:18:51,432 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:18:51,433 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1328 ms
2021-02-05 03:18:51,465 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Starting...
2021-02-05 03:18:51,470 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-3 - Start completed.
2021-02-05 03:18:51,470 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:18:51,558 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:18:51,574 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:18:51,584 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:18:52,247 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:18:52,247 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:18:52,258 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:18:52,670 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:18:52,893 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a1d0777, org.springframework.security.web.context.SecurityContextPersistenceFilter@607bd06f, org.springframework.security.web.header.HeaderWriterFilter@2fe4896d, org.springframework.security.web.csrf.CsrfFilter@1fa66056, org.springframework.security.web.authentication.logout.LogoutFilter@5adca765, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@73d3bf5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@166a92ac, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1331fd60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c07c0b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47a397ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7853d618, org.springframework.security.web.session.SessionManagementFilter@4c73bd67, org.springframework.security.web.access.ExceptionTranslationFilter@2c301c1a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2d88d03e]
2021-02-05 03:18:52,962 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:18:53,543 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:18:53,682 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:18:53,691 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:18:53,692 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.681 seconds (JVM running for 104.975)
2021-02-05 03:18:53,695 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:18:56,297 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-16] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:18:56,300 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-16] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:18:56,302 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-16] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:18:56,303 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:18:56,306 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:18:56,307 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:18:56,311 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:18:56,311 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:18:56,312 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:18:56,312 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:18:56,313 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:18:56,313 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:18:56,315 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:18:56,316 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-16] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:18:56,518 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-16] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:18:56,519 INFO com.zaxxer.hikari.HikariDataSource [Thread-16] HikariPool-3 - Shutdown initiated...
2021-02-05 03:18:56,530 INFO com.zaxxer.hikari.HikariDataSource [Thread-16] HikariPool-3 - Shutdown completed.
2021-02-05 03:18:57,271 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:18:57,272 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:18:57,272 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:18:57,856 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:18:58,006 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 150ms. Found 13 JPA repository interfaces.
2021-02-05 03:18:58,187 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:18:58,453 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:18:58,454 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:18:58,455 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:18:58,456 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:18:58,701 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:18:58,705 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:18:58,706 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1429 ms
2021-02-05 03:18:58,742 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-4 - Starting...
2021-02-05 03:18:58,747 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-4 - Start completed.
2021-02-05 03:18:58,748 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:18:58,848 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:18:58,870 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:18:58,882 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:18:59,475 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:18:59,475 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:18:59,484 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:18:59,900 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:19:00,134 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7396b549, org.springframework.security.web.context.SecurityContextPersistenceFilter@2615019b, org.springframework.security.web.header.HeaderWriterFilter@1ffffd28, org.springframework.security.web.csrf.CsrfFilter@2fde10f0, org.springframework.security.web.authentication.logout.LogoutFilter@1f42c2c6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@19c5a6fb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@64ee46d6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5c3d30af, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6352c39b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3247464, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30c0aa1d, org.springframework.security.web.session.SessionManagementFilter@7913c7d9, org.springframework.security.web.access.ExceptionTranslationFilter@76267486, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@49d4b8a5]
2021-02-05 03:19:00,219 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:19:00,733 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:19:00,839 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:19:00,847 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:19:00,849 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 3.644 seconds (JVM running for 112.132)
2021-02-05 03:19:00,851 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:19:08,279 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-21] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:19:08,281 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-21] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:19:08,283 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-21] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:19:08,283 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:19:08,286 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:19:08,287 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:19:08,291 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:19:08,291 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:19:08,292 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:19:08,292 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:19:08,293 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:19:08,294 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:19:08,296 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:19:08,297 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-21] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:19:08,500 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-21] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:19:08,501 INFO com.zaxxer.hikari.HikariDataSource [Thread-21] HikariPool-4 - Shutdown initiated...
2021-02-05 03:19:08,509 INFO com.zaxxer.hikari.HikariDataSource [Thread-21] HikariPool-4 - Shutdown completed.
2021-02-05 03:19:09,219 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:19:09,219 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:19:09,220 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:19:09,669 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:19:09,774 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 104ms. Found 13 JPA repository interfaces.
2021-02-05 03:19:09,910 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:19:10,098 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:19:10,099 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:19:10,099 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:19:10,099 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:19:10,238 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:19:10,244 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:19:10,244 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 1020 ms
2021-02-05 03:19:10,267 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Starting...
2021-02-05 03:19:10,270 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-5 - Start completed.
2021-02-05 03:19:10,270 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:19:10,348 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:19:10,360 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:19:10,370 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:19:10,957 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:19:10,957 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:19:10,965 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:19:11,360 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:19:11,528 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49dacb2d, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ea0d038, org.springframework.security.web.header.HeaderWriterFilter@e38c6f0, org.springframework.security.web.csrf.CsrfFilter@1dab6c17, org.springframework.security.web.authentication.logout.LogoutFilter@78282e03, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1787df0a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4b5826d6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@60e49a31, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@35a3c822, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7de49720, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52a4cfdc, org.springframework.security.web.session.SessionManagementFilter@58add4ee, org.springframework.security.web.access.ExceptionTranslationFilter@31735b7d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@55acfbda]
2021-02-05 03:19:11,596 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:19:11,888 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:19:11,980 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:19:11,986 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:19:11,987 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.828 seconds (JVM running for 123.269)
2021-02-05 03:19:11,988 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:19:33,991 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-26] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:19:33,994 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-26] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:19:33,996 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-26] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:19:33,996 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:19:34,000 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:19:34,001 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:19:34,004 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:19:34,005 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:19:34,006 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:19:34,007 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:19:34,007 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:19:34,008 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:19:34,010 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:19:34,011 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-26] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:19:34,213 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-26] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:19:34,213 INFO com.zaxxer.hikari.HikariDataSource [Thread-26] HikariPool-5 - Shutdown initiated...
2021-02-05 03:19:34,215 INFO com.zaxxer.hikari.HikariDataSource [Thread-26] HikariPool-5 - Shutdown completed.
2021-02-05 03:19:34,886 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:19:34,886 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:19:34,886 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:19:35,319 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:19:35,416 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 96ms. Found 13 JPA repository interfaces.
2021-02-05 03:19:35,525 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:19:35,713 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:19:35,714 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:19:35,715 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:19:35,715 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:19:35,848 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:19:35,852 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:19:35,852 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 962 ms
2021-02-05 03:19:35,872 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Starting...
2021-02-05 03:19:35,874 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-6 - Start completed.
2021-02-05 03:19:35,875 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:19:35,939 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:19:35,954 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:19:35,964 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:19:36,519 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:19:36,519 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:19:36,527 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:19:36,879 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:19:37,100 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@418769a8, org.springframework.security.web.context.SecurityContextPersistenceFilter@b7c6ef7, org.springframework.security.web.header.HeaderWriterFilter@35446698, org.springframework.security.web.csrf.CsrfFilter@4d5368df, org.springframework.security.web.authentication.logout.LogoutFilter@45569e9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@49a35df3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@68d0fac0, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7e4f5327, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cab1925, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a4dc48e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca6ed98, org.springframework.security.web.session.SessionManagementFilter@5d3fe01f, org.springframework.security.web.access.ExceptionTranslationFilter@42f2ae4b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77bebaac]
2021-02-05 03:19:37,145 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:19:37,418 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:19:37,523 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:19:37,532 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:19:37,534 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.706 seconds (JVM running for 148.816)
2021-02-05 03:19:37,536 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:19:42,164 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 03:19:42,165 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 03:19:42,181 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 15 ms
2021-02-05 03:19:51,228 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-7] Intentando detectar si hay ligas sin equipos
2021-02-05 03:19:51,298 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-7] No se han detectado ligas sin equipos
2021-02-05 03:20:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 03:20:09,653 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-4] Intentando detectar si hay ligas sin equipos
2021-02-05 03:20:09,664 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-4] No se han detectado ligas sin equipos
2021-02-05 03:20:11,435 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 03:20:11,466 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Equipos obtenindos correctamente
2021-02-05 03:20:11,466 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Ordenando los equipos
2021-02-05 03:20:11,468 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-5] Equipos ordenados correctamente
2021-02-05 03:20:25,370 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-2] Comprando fichaje con suficiente dinero
2021-02-05 03:22:04,329 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-31] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:22:04,330 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-31] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:22:04,331 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-31] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:22:04,332 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:22:04,334 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:22:04,335 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:22:04,337 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:22:04,338 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:22:04,338 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:22:04,339 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:22:04,339 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:22:04,340 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:22:04,341 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:22:04,343 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-31] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:22:04,545 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-31] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:22:04,545 INFO com.zaxxer.hikari.HikariDataSource [Thread-31] HikariPool-6 - Shutdown initiated...
2021-02-05 03:22:04,546 INFO com.zaxxer.hikari.HikariDataSource [Thread-31] HikariPool-6 - Shutdown completed.
2021-02-05 03:22:05,533 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:22:05,534 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:22:05,534 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:22:05,957 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:22:06,040 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 82ms. Found 13 JPA repository interfaces.
2021-02-05 03:22:06,155 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:22:06,323 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:22:06,324 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:22:06,325 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:22:06,325 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:22:06,474 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:22:06,478 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:22:06,479 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 942 ms
2021-02-05 03:22:06,496 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-7 - Starting...
2021-02-05 03:22:06,499 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-7 - Start completed.
2021-02-05 03:22:06,500 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:22:06,569 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:22:06,581 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:22:06,587 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:22:07,079 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:22:07,080 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:22:07,088 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:22:07,494 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:22:07,656 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75002a9d, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ce5b18e, org.springframework.security.web.header.HeaderWriterFilter@7c38f548, org.springframework.security.web.csrf.CsrfFilter@14758283, org.springframework.security.web.authentication.logout.LogoutFilter@5385fef9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@71ad9b0f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5b0896b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@48d09fe8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3893f325, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33ac3ca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51284cfb, org.springframework.security.web.session.SessionManagementFilter@643c5610, org.springframework.security.web.access.ExceptionTranslationFilter@94dbbec, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@783c2bb2]
2021-02-05 03:22:07,720 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:22:08,038 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:22:08,127 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:22:08,135 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:22:08,136 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.652 seconds (JVM running for 299.419)
2021-02-05 03:22:08,138 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:23:10,864 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 03:23:10,873 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 03:23:10,878 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 4 ms
2021-02-05 03:23:15,408 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] Intentando detectar si hay ligas sin equipos
2021-02-05 03:23:15,420 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] No se han detectado ligas sin equipos
2021-02-05 03:23:17,428 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 03:23:17,445 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos obtenindos correctamente
2021-02-05 03:23:17,446 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Ordenando los equipos
2021-02-05 03:23:17,448 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos ordenados correctamente
2021-02-05 03:23:21,060 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-5] Comprando fichaje con suficiente dinero
2021-02-05 03:25:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 03:29:47,396 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-36] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:29:47,397 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-36] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:29:47,398 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-36] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:29:47,399 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:29:47,402 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:29:47,402 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:29:47,405 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:29:47,405 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:29:47,406 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:29:47,406 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:29:47,407 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:29:47,407 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:29:47,409 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:29:47,411 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-36] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:29:47,613 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-36] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:29:47,614 INFO com.zaxxer.hikari.HikariDataSource [Thread-36] HikariPool-7 - Shutdown initiated...
2021-02-05 03:29:47,615 INFO com.zaxxer.hikari.HikariDataSource [Thread-36] HikariPool-7 - Shutdown completed.
2021-02-05 03:29:48,459 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:29:48,459 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:29:48,460 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:29:48,889 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:29:48,983 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 93ms. Found 13 JPA repository interfaces.
2021-02-05 03:29:49,086 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:29:49,264 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:29:49,265 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:29:49,266 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:29:49,266 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:29:49,386 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:29:49,389 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:29:49,389 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 925 ms
2021-02-05 03:29:49,412 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-8 - Starting...
2021-02-05 03:29:49,414 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-8 - Start completed.
2021-02-05 03:29:49,415 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:29:49,480 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:29:49,491 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:29:49,496 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:29:49,987 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:29:49,987 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:29:49,996 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:29:50,361 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:29:50,565 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ae43b78, org.springframework.security.web.context.SecurityContextPersistenceFilter@47b1e9c8, org.springframework.security.web.header.HeaderWriterFilter@3662414b, org.springframework.security.web.csrf.CsrfFilter@1a86b48c, org.springframework.security.web.authentication.logout.LogoutFilter@2771a058, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@be8c0f3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4dd48663, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1eb38c12, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61386105, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45740c70, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b8270bf, org.springframework.security.web.session.SessionManagementFilter@68bc0287, org.springframework.security.web.access.ExceptionTranslationFilter@1e571f04, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d3b0bf0]
2021-02-05 03:29:50,634 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:29:50,973 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:29:51,081 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:29:51,087 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:29:51,089 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.691 seconds (JVM running for 762.372)
2021-02-05 03:29:51,090 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:30:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 03:32:43,223 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-41] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:32:43,224 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-41] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:32:43,225 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-41] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:32:43,226 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:32:43,228 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:32:43,228 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:32:43,230 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:32:43,230 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:32:43,231 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:32:43,231 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:32:43,232 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:32:43,232 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:32:43,233 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:32:43,234 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-41] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:32:43,436 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-41] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:32:43,436 INFO com.zaxxer.hikari.HikariDataSource [Thread-41] HikariPool-8 - Shutdown initiated...
2021-02-05 03:32:43,438 INFO com.zaxxer.hikari.HikariDataSource [Thread-41] HikariPool-8 - Shutdown completed.
2021-02-05 03:32:44,296 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:32:44,297 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:32:44,297 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:32:44,693 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:32:44,772 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 78ms. Found 13 JPA repository interfaces.
2021-02-05 03:32:44,896 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:32:45,061 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:32:45,062 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:32:45,063 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:32:45,063 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:32:45,188 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:32:45,192 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:32:45,193 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 893 ms
2021-02-05 03:32:45,216 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-9 - Starting...
2021-02-05 03:32:45,218 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-9 - Start completed.
2021-02-05 03:32:45,219 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:32:45,301 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:32:45,318 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:32:45,331 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:32:45,868 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:32:45,869 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:32:45,882 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:32:46,344 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:32:46,526 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2fd82bc8, org.springframework.security.web.context.SecurityContextPersistenceFilter@74443d16, org.springframework.security.web.header.HeaderWriterFilter@25560e2e, org.springframework.security.web.csrf.CsrfFilter@13ce398e, org.springframework.security.web.authentication.logout.LogoutFilter@5e583336, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@67fc3a47, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@47267e65, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7ca74060, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67a56dda, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7217287e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7abe183b, org.springframework.security.web.session.SessionManagementFilter@16a47405, org.springframework.security.web.access.ExceptionTranslationFilter@38157cf8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@591be097]
2021-02-05 03:32:46,592 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:32:46,841 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:32:46,925 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:32:46,930 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:32:46,931 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.684 seconds (JVM running for 938.214)
2021-02-05 03:32:46,932 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:33:29,394 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-46] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:33:29,394 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-46] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:33:29,396 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-46] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:33:29,396 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:33:29,397 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:33:29,397 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:33:29,399 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:33:29,399 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:33:29,399 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:33:29,400 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:33:29,400 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:33:29,400 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:33:29,401 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:33:29,402 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-46] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:33:29,603 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-46] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:33:29,603 INFO com.zaxxer.hikari.HikariDataSource [Thread-46] HikariPool-9 - Shutdown initiated...
2021-02-05 03:33:29,604 INFO com.zaxxer.hikari.HikariDataSource [Thread-46] HikariPool-9 - Shutdown completed.
2021-02-05 03:33:30,347 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:33:30,348 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:33:30,349 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:33:30,758 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:33:30,872 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 113ms. Found 13 JPA repository interfaces.
2021-02-05 03:33:31,064 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:33:31,220 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:33:31,221 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:33:31,222 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:33:31,222 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:33:31,330 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:33:31,333 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:33:31,333 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 979 ms
2021-02-05 03:33:31,349 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-10 - Starting...
2021-02-05 03:33:31,352 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-10 - Start completed.
2021-02-05 03:33:31,353 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:33:31,419 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:33:31,432 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:33:31,437 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:33:31,860 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:33:31,862 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:33:31,870 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:33:32,275 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:33:32,491 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@400dd2ed, org.springframework.security.web.context.SecurityContextPersistenceFilter@5b5fe40d, org.springframework.security.web.header.HeaderWriterFilter@3133c816, org.springframework.security.web.csrf.CsrfFilter@62c69e82, org.springframework.security.web.authentication.logout.LogoutFilter@5e8ac5f3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@b7096e5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@dfdca25, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@230be459, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@75004b7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5adc5eb1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8518eef, org.springframework.security.web.session.SessionManagementFilter@d3b59a6, org.springframework.security.web.access.ExceptionTranslationFilter@775b354c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@718b4f58]
2021-02-05 03:33:32,553 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:33:32,849 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:33:32,951 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:33:32,957 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:33:32,958 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.661 seconds (JVM running for 984.241)
2021-02-05 03:33:32,959 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:33:58,156 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-51] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:33:58,161 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-51] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:33:58,164 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-51] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:33:58,164 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:33:58,167 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:33:58,167 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:33:58,169 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:33:58,170 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:33:58,171 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:33:58,171 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:33:58,172 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:33:58,172 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:33:58,174 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:33:58,175 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-51] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:33:58,377 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-51] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:33:58,377 INFO com.zaxxer.hikari.HikariDataSource [Thread-51] HikariPool-10 - Shutdown initiated...
2021-02-05 03:33:58,378 INFO com.zaxxer.hikari.HikariDataSource [Thread-51] HikariPool-10 - Shutdown completed.
2021-02-05 03:33:59,105 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:33:59,106 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:33:59,107 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:33:59,485 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:33:59,566 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 81ms. Found 13 JPA repository interfaces.
2021-02-05 03:33:59,667 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:33:59,821 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:33:59,822 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:33:59,822 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:33:59,823 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:33:59,941 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:33:59,945 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:33:59,945 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 832 ms
2021-02-05 03:33:59,964 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-11 - Starting...
2021-02-05 03:33:59,967 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-11 - Start completed.
2021-02-05 03:33:59,968 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:34:00,038 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:34:00,049 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:34:00,053 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:34:00,415 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:34:00,415 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:34:00,423 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:34:00,707 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:34:00,856 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e69d9b2, org.springframework.security.web.context.SecurityContextPersistenceFilter@5cc589e1, org.springframework.security.web.header.HeaderWriterFilter@12e07506, org.springframework.security.web.csrf.CsrfFilter@249f199a, org.springframework.security.web.authentication.logout.LogoutFilter@4c86ab31, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@349fe873, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2c2125c4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@123d25a7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6dffb64c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c26b6b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4122d6a, org.springframework.security.web.session.SessionManagementFilter@ca03ab, org.springframework.security.web.access.ExceptionTranslationFilter@a777f9a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@11e0eb29]
2021-02-05 03:34:00,916 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:34:01,185 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:34:01,280 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:34:01,286 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:34:01,288 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.233 seconds (JVM running for 1012.571)
2021-02-05 03:34:01,292 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:35:00,001 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 03:40:00,002 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 03:45:00,002 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 03:49:05,615 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-56] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:49:05,616 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-56] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:49:05,618 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-56] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:49:05,618 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:49:05,620 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:49:05,620 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:49:05,622 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:49:05,622 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:49:05,623 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:49:05,623 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:49:05,623 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:49:05,623 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:49:05,624 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:49:05,625 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-56] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:49:05,828 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-56] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:49:05,829 INFO com.zaxxer.hikari.HikariDataSource [Thread-56] HikariPool-11 - Shutdown initiated...
2021-02-05 03:49:05,830 INFO com.zaxxer.hikari.HikariDataSource [Thread-56] HikariPool-11 - Shutdown completed.
2021-02-05 03:49:06,479 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:49:06,479 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:49:06,479 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:49:06,801 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:49:06,877 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 75ms. Found 13 JPA repository interfaces.
2021-02-05 03:49:06,965 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:49:07,116 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:49:07,117 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:49:07,117 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:49:07,117 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:49:07,222 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:49:07,225 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:49:07,225 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 743 ms
2021-02-05 03:49:07,239 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-12 - Starting...
2021-02-05 03:49:07,242 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-12 - Start completed.
2021-02-05 03:49:07,242 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:49:07,303 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:49:07,314 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:49:07,318 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:49:07,618 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:49:07,618 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:49:07,625 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:49:07,918 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:49:08,075 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ee4263e, org.springframework.security.web.context.SecurityContextPersistenceFilter@2fd36afb, org.springframework.security.web.header.HeaderWriterFilter@26a2c3ae, org.springframework.security.web.csrf.CsrfFilter@279f6dde, org.springframework.security.web.authentication.logout.LogoutFilter@2236399b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2431c5f5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5bc0bd19, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@45f676ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68f4bfe2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58fbbee1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e0b7b40, org.springframework.security.web.session.SessionManagementFilter@73fe18c7, org.springframework.security.web.access.ExceptionTranslationFilter@56222853, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@798a4b91]
2021-02-05 03:49:08,145 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:49:08,425 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:49:08,519 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:49:08,541 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:49:08,542 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.106 seconds (JVM running for 1919.825)
2021-02-05 03:49:08,544 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:49:51,256 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-61] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:49:51,261 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-61] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:49:51,264 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-61] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:49:51,265 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:49:51,267 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:49:51,267 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:49:51,269 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:49:51,269 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:49:51,270 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:49:51,270 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:49:51,271 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:49:51,272 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:49:51,273 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:49:51,274 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-61] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:49:51,477 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-61] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:49:51,477 INFO com.zaxxer.hikari.HikariDataSource [Thread-61] HikariPool-12 - Shutdown initiated...
2021-02-05 03:49:51,478 INFO com.zaxxer.hikari.HikariDataSource [Thread-61] HikariPool-12 - Shutdown completed.
2021-02-05 03:49:52,202 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:49:52,203 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:49:52,203 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:49:52,524 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:49:52,600 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 75ms. Found 13 JPA repository interfaces.
2021-02-05 03:49:52,693 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:49:52,839 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:49:52,839 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:49:52,840 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:49:52,840 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:49:52,939 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:49:52,942 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:49:52,942 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 736 ms
2021-02-05 03:49:52,957 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-13 - Starting...
2021-02-05 03:49:52,959 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-13 - Start completed.
2021-02-05 03:49:52,960 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:49:53,018 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:49:53,029 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:49:53,033 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:49:53,365 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:49:53,365 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:49:53,372 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:49:53,689 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:49:53,819 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42588841, org.springframework.security.web.context.SecurityContextPersistenceFilter@2941a44f, org.springframework.security.web.header.HeaderWriterFilter@57e80faa, org.springframework.security.web.csrf.CsrfFilter@5356feb2, org.springframework.security.web.authentication.logout.LogoutFilter@260077dd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d6463fc, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@78a6cf10, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@242895d2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@115d68ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6dfa010, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d90a3e2, org.springframework.security.web.session.SessionManagementFilter@4d067033, org.springframework.security.web.access.ExceptionTranslationFilter@4e4ecd44, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2efef3f6]
2021-02-05 03:49:53,881 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:49:54,107 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:49:54,191 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:49:54,197 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:49:54,197 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.038 seconds (JVM running for 1965.48)
2021-02-05 03:49:54,199 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:50:00,000 INFO org.springframework.samples.petclinic.PetclinicApplication [scheduling-1] Actualizando variables del sistema
2021-02-05 03:50:08,469 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 03:50:08,470 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 03:50:08,474 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 3 ms
2021-02-05 03:50:08,488 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] Intentando detectar si hay ligas sin equipos
2021-02-05 03:50:08,500 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-1] No se han detectado ligas sin equipos
2021-02-05 03:50:09,947 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] Intentando detectar si hay ligas sin equipos
2021-02-05 03:50:09,955 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] No se han detectado ligas sin equipos
2021-02-05 03:50:19,057 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 03:50:19,064 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Equipos obtenindos correctamente
2021-02-05 03:50:19,065 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Ordenando los equipos
2021-02-05 03:50:19,066 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-10] Equipos ordenados correctamente
2021-02-05 03:50:22,038 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-1] Comprando fichaje con suficiente dinero
2021-02-05 03:50:50,944 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-66] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:50:50,945 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-66] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:50:50,948 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-66] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:50:50,949 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:50:50,952 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:50:50,953 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:50:50,956 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:50:50,957 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:50:50,958 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:50:50,959 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:50:50,960 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:50:50,960 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:50:50,963 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:50:50,965 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-66] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:50:51,168 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-66] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:50:51,168 INFO com.zaxxer.hikari.HikariDataSource [Thread-66] HikariPool-13 - Shutdown initiated...
2021-02-05 03:50:51,169 INFO com.zaxxer.hikari.HikariDataSource [Thread-66] HikariPool-13 - Shutdown completed.
2021-02-05 03:50:52,026 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:50:52,026 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:50:52,026 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:50:52,341 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:50:52,416 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 74ms. Found 13 JPA repository interfaces.
2021-02-05 03:50:52,502 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:50:52,642 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:50:52,643 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:50:52,643 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:50:52,643 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:50:52,740 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:50:52,742 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:50:52,742 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 713 ms
2021-02-05 03:50:52,755 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-14 - Starting...
2021-02-05 03:50:52,757 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-14 - Start completed.
2021-02-05 03:50:52,757 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:50:52,811 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:50:52,821 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:50:52,825 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:50:53,137 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:50:53,138 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:50:53,146 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:50:53,438 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:50:53,659 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6731c2d8, org.springframework.security.web.context.SecurityContextPersistenceFilter@42df9ce6, org.springframework.security.web.header.HeaderWriterFilter@7b327b60, org.springframework.security.web.csrf.CsrfFilter@7dfdd74b, org.springframework.security.web.authentication.logout.LogoutFilter@c6cb594, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6f00be9e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6fcb9a91, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@34670aee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cba28cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@643bbb43, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce12dfb, org.springframework.security.web.session.SessionManagementFilter@510b4e03, org.springframework.security.web.access.ExceptionTranslationFilter@6bd4bfe5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f94ef46]
2021-02-05 03:50:53,714 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:50:54,021 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:50:54,123 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:50:54,131 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:50:54,132 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.147 seconds (JVM running for 2025.415)
2021-02-05 03:50:54,133 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:51:08,820 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-5] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 03:51:08,822 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-5] Initializing Servlet 'dispatcherServlet'
2021-02-05 03:51:08,826 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-5] Completed initialization in 3 ms
2021-02-05 03:51:10,627 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] Intentando detectar si hay ligas sin equipos
2021-02-05 03:51:10,633 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] No se han detectado ligas sin equipos
2021-02-05 03:51:16,875 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 03:51:16,883 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos obtenindos correctamente
2021-02-05 03:51:16,884 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Ordenando los equipos
2021-02-05 03:51:16,885 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos ordenados correctamente
2021-02-05 03:51:20,541 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-4] Comprando fichaje con suficiente dinero
2021-02-05 03:52:02,792 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-71] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:52:02,793 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-71] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:52:02,795 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-71] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:52:02,796 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:52:02,798 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:52:02,799 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:52:02,801 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:52:02,802 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:52:02,803 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:52:02,803 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:52:02,804 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:52:02,804 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:52:02,806 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:52:02,808 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-71] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:52:03,013 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-71] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:52:03,013 INFO com.zaxxer.hikari.HikariDataSource [Thread-71] HikariPool-14 - Shutdown initiated...
2021-02-05 03:52:03,014 INFO com.zaxxer.hikari.HikariDataSource [Thread-71] HikariPool-14 - Shutdown completed.
2021-02-05 03:52:03,750 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:52:03,750 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:52:03,750 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:52:04,087 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:52:04,166 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 79ms. Found 13 JPA repository interfaces.
2021-02-05 03:52:04,253 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:52:04,409 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:52:04,410 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:52:04,410 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:52:04,410 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:52:04,516 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:52:04,519 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:52:04,519 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 766 ms
2021-02-05 03:52:04,537 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-15 - Starting...
2021-02-05 03:52:04,539 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-15 - Start completed.
2021-02-05 03:52:04,540 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:52:04,599 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:52:04,610 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:52:04,614 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:52:04,879 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:52:04,880 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:52:04,886 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:52:05,135 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:52:05,284 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f404573, org.springframework.security.web.context.SecurityContextPersistenceFilter@7730d97f, org.springframework.security.web.header.HeaderWriterFilter@115dfd20, org.springframework.security.web.csrf.CsrfFilter@a556a7d, org.springframework.security.web.authentication.logout.LogoutFilter@4689097, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@39e5080d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@10e7dd80, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@28546080, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ecf181, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ca6b801, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d207818, org.springframework.security.web.session.SessionManagementFilter@56174742, org.springframework.security.web.access.ExceptionTranslationFilter@7c112707, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3c333c5e]
2021-02-05 03:52:05,326 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:52:05,574 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:52:05,679 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:52:05,708 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:52:05,708 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.011 seconds (JVM running for 2096.992)
2021-02-05 03:52:05,710 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:52:22,454 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-76] Shutting down ExecutorService 'taskScheduler'
2021-02-05 03:52:22,458 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [Thread-76] Shutting down ExecutorService 'applicationTaskExecutor'
2021-02-05 03:52:22,461 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [Thread-76] Closing JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:52:22,461 INFO org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2021-02-05 03:52:22,466 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table granpremio if exists
2021-02-05 03:52:22,466 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table league if exists
2021-02-05 03:52:22,470 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table pilot if exists
2021-02-05 03:52:22,471 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table record if exists
2021-02-05 03:52:22,472 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table record_circuito if exists
2021-02-05 03:52:22,472 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table record_mejor_vuelta if exists
2021-02-05 03:52:22,473 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table record_pole if exists
2021-02-05 03:52:22,474 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table record_vuelta_rapida if exists
2021-02-05 03:52:22,476 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table team if exists
2021-02-05 03:52:22,477 ERROR org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [Thread-76] HHH000478: Unsuccessful: 
    drop table users if exists
2021-02-05 03:52:22,681 WARN org.springframework.beans.factory.support.DisposableBeanAdapter [Thread-76] Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: La base de datos ya esta cerrada (para des-habilitar el cerrado automatico durante el shutdown de la VM, agregue ";DB_CLOSE_ON_EXIT=FALSE" a la URL de conexión)
Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-200]
2021-02-05 03:52:22,681 INFO com.zaxxer.hikari.HikariDataSource [Thread-76] HikariPool-15 - Shutdown initiated...
2021-02-05 03:52:22,681 INFO com.zaxxer.hikari.HikariDataSource [Thread-76] HikariPool-15 - Shutdown completed.
2021-02-05 03:52:23,562 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Starting PetclinicApplication on Alvaro with PID 15760 (C:\Users\alvar\git\dp1-2020-g2-05\target\classes started by alvar in C:\Users\alvar\git\dp1-2020-g2-05)
2021-02-05 03:52:23,562 DEBUG org.springframework.boot.StartupInfoLogger [restartedMain] Running with Spring Boot v2.2.4.RELEASE, Spring v5.2.3.RELEASE
2021-02-05 03:52:23,562 INFO org.springframework.boot.SpringApplication [restartedMain] No active profile set, falling back to default profiles: default
2021-02-05 03:52:23,892 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2021-02-05 03:52:23,975 INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 82ms. Found 13 JPA repository interfaces.
2021-02-05 03:52:24,089 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [restartedMain] Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2021-02-05 03:52:24,248 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8090 (http)
2021-02-05 03:52:24,249 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8090"]
2021-02-05 03:52:24,249 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting service [Tomcat]
2021-02-05 03:52:24,249 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/9.0.30]
2021-02-05 03:52:24,349 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
2021-02-05 03:52:24,352 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2021-02-05 03:52:24,352 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 786 ms
2021-02-05 03:52:24,369 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-16 - Starting...
2021-02-05 03:52:24,372 INFO com.zaxxer.hikari.HikariDataSource [restartedMain] HikariPool-16 - Start completed.
2021-02-05 03:52:24,372 INFO org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration [restartedMain] H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:testdb'
2021-02-05 03:52:24,436 INFO org.hibernate.jpa.internal.util.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2021-02-05 03:52:24,450 INFO org.hibernate.dialect.Dialect [restartedMain] HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2021-02-05 03:52:24,456 INFO org.hibernate.envers.boot.internal.EnversServiceImpl [restartedMain] Envers integration enabled? : true
2021-02-05 03:52:24,822 INFO org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2021-02-05 03:52:24,822 INFO org.springframework.orm.jpa.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2021-02-05 03:52:24,829 INFO org.springframework.boot.devtools.autoconfigure.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2021-02-05 03:52:25,091 WARN org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2021-02-05 03:52:25,242 INFO org.springframework.security.web.DefaultSecurityFilterChain [restartedMain] Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1101b142, org.springframework.security.web.context.SecurityContextPersistenceFilter@12ca040d, org.springframework.security.web.header.HeaderWriterFilter@69b8c752, org.springframework.security.web.csrf.CsrfFilter@3141eb90, org.springframework.security.web.authentication.logout.LogoutFilter@64965560, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5672247, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@439565c1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@34dbf4a8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b8dd865, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24a01c11, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17818bbc, org.springframework.security.web.session.SessionManagementFilter@2ce9776b, org.springframework.security.web.access.ExceptionTranslationFilter@659f8831, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@68b9681f]
2021-02-05 03:52:25,303 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'applicationTaskExecutor'
2021-02-05 03:52:25,539 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [restartedMain] Initializing ExecutorService 'taskScheduler'
2021-02-05 03:52:25,621 INFO org.apache.juli.logging.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8090"]
2021-02-05 03:52:25,628 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [restartedMain] Tomcat started on port(s): 8090 (http) with context path ''
2021-02-05 03:52:25,628 INFO org.springframework.boot.StartupInfoLogger [restartedMain] Started PetclinicApplication in 2.128 seconds (JVM running for 2116.911)
2021-02-05 03:52:25,630 INFO org.springframework.boot.devtools.autoconfigure.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2021-02-05 03:52:31,557 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8090-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2021-02-05 03:52:31,560 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Initializing Servlet 'dispatcherServlet'
2021-02-05 03:52:31,563 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8090-exec-1] Completed initialization in 3 ms
2021-02-05 03:52:38,259 DEBUG org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] Intentando detectar si hay ligas sin equipos
2021-02-05 03:52:38,265 INFO org.springframework.samples.petclinic.web.LeagueController [http-nio-8090-exec-2] No se han detectado ligas sin equipos
2021-02-05 03:52:39,959 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Obteniendo equipos de la ligaLeague [name=Liga 2, leagueDate=2019/06/12, leagueCode=OLIKJUHMNJ]
2021-02-05 03:52:39,966 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos obtenindos correctamente
2021-02-05 03:52:39,967 DEBUG org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Ordenando los equipos
2021-02-05 03:52:39,968 INFO org.springframework.samples.petclinic.web.TeamController [http-nio-8090-exec-3] Equipos ordenados correctamente
2021-02-05 03:52:51,216 INFO org.springframework.samples.petclinic.web.OfferController [http-nio-8090-exec-2] Comprando fichaje con suficiente dinero
